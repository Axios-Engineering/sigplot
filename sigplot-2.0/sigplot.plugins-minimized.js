/*

 File: CanvasInput.js
  CanvasInput v1.0.10
  http://goldfirestudios.com/blog/108/CanvasInput-HTML5-Canvas-Text-Input

  (c) 2013, James Simpson of GoldFire Studios
  goldfirestudios.com

  (c) 2013, Axios, Inc.
  Modifications made by Axios, Inc.
  axiosengineering.com

  MIT License

 File: common.js
 Copyright (c) 2012-2014, Michael Ihde, All rights reserved.
 Copyright (c) 2012-2014, Axios Inc., All rights reserved.

 This file is part of SigPlot.

 SigPlot is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser
 General Public License as published by the Free Software Foundation; either version 3.0 of the License, or
 (at your option) any later version. This library is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
 PURPOSE. See the GNU Lesser General Public License for more details. You should have received a copy of the
 GNU Lesser General Public License along with SigPlot.


 File: m.js
 Copyright (c) 2012-2014, Michael Ihde, All rights reserved.
 Copyright (c) 2012-2014, Axios Inc., All rights reserved.

 This file is part of SigPlot.

 SigPlot is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser
 General Public License as published by the Free Software Foundation; either version 3.0 of the License, or
 (at your option) any later version. This library is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
 PURPOSE. See the GNU Lesser General Public License for more details. You should have received a copy of the
 GNU Lesser General Public License along with SigPlot.

 File: plugins.js
 Copyright (c) 2012-2014, Michael Ihde, All rights reserved.
 Copyright (c) 2012-2014, Axios Inc., All rights reserved.

 This file is part of SigPlot.

 SigPlot is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser
 General Public License as published by the Free Software Foundation; either version 3.0 of the License, or
 (at your option) any later version. This library is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
 PURPOSE. See the GNU Lesser General Public License for more details. You should have received a copy of the
 GNU Lesser General Public License along with SigPlot.

 File: sigplot.accordion.js

 Copyright (c) 2012-2014, Michael Ihde, All rights reserved.
 Copyright (c) 2012-2014, Axios Inc., All rights reserved.

 This file is part of SigPlot.

 SigPlot is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser
 General Public License as published by the Free Software Foundation; either version 3.0 of the License, or
 (at your option) any later version. This library is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
 PURPOSE. See the GNU Lesser General Public License for more details. You should have received a copy of the
 GNU Lesser General Public License along with SigPlot.

 File: sigplot.annotations.js

 Copyright (c) 2012-2014, Michael Ihde, All rights reserved.
 Copyright (c) 2012-2014, Axios Inc., All rights reserved.

 This file is part of SigPlot.

 SigPlot is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser
 General Public License as published by the Free Software Foundation; either version 3.0 of the License, or
 (at your option) any later version. This library is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
 PURPOSE. See the GNU Lesser General Public License for more details. You should have received a copy of the
 GNU Lesser General Public License along with SigPlot.

 File: sigplot.boxes.js

 Copyright (c) 2012-2014, Michael Ihde, All rights reserved.
 Copyright (c) 2012-2014, Axios Inc., All rights reserved.

 This file is part of SigPlot.

 SigPlot is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser
 General Public License as published by the Free Software Foundation; either version 3.0 of the License, or
 (at your option) any later version. This library is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
 PURPOSE. See the GNU Lesser General Public License for more details. You should have received a copy of the
 GNU Lesser General Public License along with SigPlot.

 File: sigplot.playback.js

 Copyright (c) 2012-2014, Michael Ihde, All rights reserved.
 Copyright (c) 2012-2014, Axios Inc., All rights reserved.

 This file is part of SigPlot.

 SigPlot is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser
 General Public License as published by the Free Software Foundation; either version 3.0 of the License, or
 (at your option) any later version. This library is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
 PURPOSE. See the GNU Lesser General Public License for more details. You should have received a copy of the
 GNU Lesser General Public License along with SigPlot.

 File: sigplot.slider.js

 Copyright (c) 2012-2014, Michael Ihde, All rights reserved.
 Copyright (c) 2012-2014, Axios Inc., All rights reserved.

 This file is part of SigPlot.

 SigPlot is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser
 General Public License as published by the Free Software Foundation; either version 3.0 of the License, or
 (at your option) any later version. This library is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
 PURPOSE. See the GNU Lesser General Public License for more details. You should have received a copy of the
 GNU Lesser General Public License along with SigPlot.

 File: bluefile.js
 Copyright (c) 2012-2014, Michael Ihde, All rights reserved.
 Copyright (c) 2012-2014, Axios Inc., All rights reserved.

 This file is part of SigPlot.

 SigPlot is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser
 General Public License as published by the Free Software Foundation; either version 3.0 of the License, or
 (at your option) any later version. This library is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
 PURPOSE. See the GNU Lesser General Public License for more details. You should have received a copy of the
 GNU Lesser General Public License along with SigPlot.


 File: mx.js
 Copyright (c) 2012-2014, Michael Ihde, All rights reserved.
 Copyright (c) 2012-2014, Axios Inc., All rights reserved.

 This file is part of SigPlot.

 SigPlot is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser
 General Public License as published by the Free Software Foundation; either version 3.0 of the License, or
 (at your option) any later version. This library is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
 PURPOSE. See the GNU Lesser General Public License for more details. You should have received a copy of the
 GNU Lesser General Public License along with SigPlot.
*/
(function($){"object"===typeof exports&&"undefined"!==typeof module?module.exports=$():"function"===typeof define&&define.amd?define([],$):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).sigplot_plugins=$()})(function(){return function C(B,O,b){function f(a,d){if(!O[a]){if(!B[a]){var g="function"==typeof require&&require;if(!d&&g)return g(a,!0);if(e)return e(a,!0);g=Error("Cannot find module '"+a+"'");throw g.code="MODULE_NOT_FOUND",g;}g=
O[a]={exports:{}};B[a][0].call(g.exports,function(b){var g=B[a][1][b];return f(g?g:b)},g,g.exports,C,B,O,b)}return O[a].exports}for(var e="function"==typeof require&&require,a=0;a<b.length;a++)f(b[a]);return f}({1:[function(C,B,O){(function(){var b=[],f=window.CanvasInput=function(e){var a=this;e=e?e:{};a._canvas=e.canvas||null;a._ctx=a._canvas?a._canvas.getContext("2d"):null;a._x=e.x||0;a._y=e.y||0;a._extraX=e.extraX||0;a._extraY=e.extraY||0;a._fontSize=e.fontSize||14;a._fontFamily=e.fontFamily||
"Arial";a._fontColor=e.fontColor||"#000";a._placeHolderColor=e.placeHolderColor||"#bfbebd";a._fontWeight=e.fontWeight||"normal";a._fontStyle=e.fontStyle||"normal";a._readonly=e.readonly||!1;a._maxlength=e.maxlength||null;a._width=e.width||150;a._height=e.height||a._fontSize;a._padding=0<=e.padding?e.padding:5;a._borderWidth=0<=e.borderWidth?e.borderWidth:1;a._borderColor=e.borderColor||"#959595";a._borderRadius=0<=e.borderRadius?e.borderRadius:3;a._backgroundImage=e.backgroundImage||"";a._boxShadow=
e.boxShadow||"1px 1px 0px rgba(255, 255, 255, 1)";a._innerShadow=e.innerShadow||"0px 0px 4px rgba(0, 0, 0, 0.4)";a._selectionColor=e.selectionColor||"rgba(179, 212, 253, 0.8)";a._placeHolder=e.placeHolder||"";a._value=e.value||a._placeHolder;a._onsubmit=e.onsubmit||function(){};a._onkeydown=e.onkeydown||function(){};a._onkeyup=e.onkeyup||function(){};a._onfocus=e.onfocus||function(){};a._onblur=e.onblur||function(){};a._cursor=!1;a._cursorPos=0;a._hasFocus=!1;a._selection=[0,0];a._wasOver=!1;a._renderOnReturn=
void 0!==e.renderOnReturn?e.renderOnReturn:!0;a._disableBlur=e.disableBlur||!1;a._tabToClear=e.tabToClear||!1;a.boxShadow(a._boxShadow,!0);a._calcWH();a._renderCanvas=document.createElement("canvas");a._renderCanvas.setAttribute("width",a.outerW);a._renderCanvas.setAttribute("height",a.outerH);a._renderCtx=a._renderCanvas.getContext("2d");a._shadowCanvas=document.createElement("canvas");a._shadowCanvas.setAttribute("width",a._width+2*a._padding);a._shadowCanvas.setAttribute("height",a._height+2*a._padding);
a._shadowCtx=a._shadowCanvas.getContext("2d");"undefined"!==typeof e.backgroundGradient?(a._backgroundColor=a._renderCtx.createLinearGradient(0,0,0,a.outerH),a._backgroundColor.addColorStop(0,e.backgroundGradient[0]),a._backgroundColor.addColorStop(1,e.backgroundGradient[1])):a._backgroundColor=e.backgroundColor||"#fff";a._canvas&&(a.mousemoveCanvasListener=function(b){b=b||window.event;a.mousemove(b,a)},a._canvas.addEventListener("mousemove",a.mousemoveCanvasListener,!1),a.mousedownCanvasListener=
function(b){b=b||window.event;a.mousedown(b,a)},a._canvas.addEventListener("mousedown",a.mousedownCanvasListener,!1),a.mouseupCanvasListener=function(b){b=b||window.event;a.mouseup(b,a)},a._canvas.addEventListener("mouseup",a.mouseupCanvasListener,!1));a.mouseupWindowListener=function(b){a._hasFocus&&!a._mouseDown&&a.blur()};window.addEventListener("mouseup",a.mouseupWindowListener,!0);a.keydownWindowListener=function(b){b=b||window.event;a._hasFocus&&a.keydown(b,a)};window.addEventListener("keydown",
a.keydownWindowListener,!1);a.keyupWindowListener=function(b){b=b||window.event;a._hasFocus&&a._onkeyup(b,a)};window.addEventListener("keyup",a.keyupWindowListener,!1);a.pasteWindowListener=function(b){b=b||window.event;if(a._hasFocus){b=b.clipboardData.getData("text/plain");var e=a._value.substr(0,a._cursorPos),g=a._value.substr(a._cursorPos);a._value=e+b+g;a._cursorPos+=b.length;a.render()}};window.addEventListener("paste",a.pasteWindowListener,!1);b.push(a);a._inputsIndex=b.length-1;a.render()};
f.prototype={canvas:function(b){return"undefined"!==typeof b?(this._canvas=b,this._ctx=this._canvas.getContext("2d"),this.render()):this._canvas},x:function(b){return"undefined"!==typeof b?(this._x=b,this.render()):this._x},y:function(b){return"undefined"!==typeof b?(this._y=b,this.render()):this._y},extraX:function(b){return"undefined"!==typeof b?(this._extraX=b,this.render()):this._extraX},extraY:function(b){return"undefined"!==typeof b?(this._extraY=b,this.render()):this._extraY},fontSize:function(b){return"undefined"!==
typeof b?(this._fontSize=b,this.render()):this._fontSize},fontFamily:function(b){return"undefined"!==typeof b?(this._fontFamily=b,this.render()):this._fontFamily},fontColor:function(b){return"undefined"!==typeof b?(this._fontColor=b,this.render()):this._fontColor},placeHolderColor:function(b){return"undefined"!==typeof b?(this._placeHolderColor=b,this.render()):this._placeHolderColor},fontWeight:function(b){return"undefined"!==typeof b?(this._fontWeight=b,this.render()):this._fontWeight},fontStyle:function(b){return"undefined"!==
typeof b?(this._fontStyle=b,this.render()):this._fontStyle},width:function(b){return"undefined"!==typeof b?(this._width=b,this._calcWH(),this._updateCanvasWH(),this.render()):this._width},height:function(b){return"undefined"!==typeof b?(this._height=b,this._calcWH(),this._updateCanvasWH(),this.render()):this._height},padding:function(b){return"undefined"!==typeof b?(this._padding=b,this._calcWH(),this._updateCanvasWH(),this.render()):this._padding},borderWidth:function(b){return"undefined"!==typeof b?
(this._borderWidth=b,this._calcWH(),this._updateCanvasWH(),this.render()):this._borderWidth},borderColor:function(b){return"undefined"!==typeof b?(this._borderColor=b,this.render()):this._borderColor},borderRadius:function(b){return"undefined"!==typeof b?(this._borderRadius=b,this.render()):this._borderRadius},backgroundColor:function(b){return"undefined"!==typeof b?(this._backgroundColor=b,this.render()):this._backgroundColor},backgroundGradient:function(b){return"undefined"!==typeof b?(this._backgroundColor=
this._renderCtx.createLinearGradient(0,0,0,this.outerH),this._backgroundColor.addColorStop(0,b[0]),this._backgroundColor.addColorStop(1,b[1]),this.render()):this._backgroundColor},boxShadow:function(b,a){if("undefined"!==typeof b){var c=b.split("px ");this._boxShadow={x:"none"===this._boxShadow?0:parseInt(c[0],10),y:"none"===this._boxShadow?0:parseInt(c[1],10),blur:"none"===this._boxShadow?0:parseInt(c[2],10),color:"none"===this._boxShadow?"":c[3]};this.shadowL=0>this._boxShadow.x?Math.abs(this._boxShadow.x)+
this._boxShadow.blur:Math.abs(this._boxShadow.blur-this._boxShadow.x);this.shadowR=this._boxShadow.blur+this._boxShadow.x;this.shadowT=0>this._boxShadow.y?Math.abs(this._boxShadow.y)+this._boxShadow.blur:Math.abs(this._boxShadow.blur-this._boxShadow.y);this.shadowB=this._boxShadow.blur+this._boxShadow.y;this.shadowW=this.shadowL+this.shadowR;this.shadowH=this.shadowT+this.shadowB;this._calcWH();if(!a)return this._updateCanvasWH(),this.render()}else return this._boxShadow},innerShadow:function(b){return"undefined"!==
typeof b?(this._innerShadow=b,this.render()):this._innerShadow},selectionColor:function(b){return"undefined"!==typeof b?(this._selectionColor=b,this.render()):this._selectionColor},placeHolder:function(b){return"undefined"!==typeof b?(this._placeHolder=b,this.render()):this._placeHolder},value:function(b){return"undefined"!==typeof b?(this._value=b,this.focus()):this._value},onsubmit:function(b){if("undefined"!==typeof b)return this._onsubmit=b,this;this._onsubmit()},onkeydown:function(b){if("undefined"!==
typeof b)return this._onkeydown=b,this;this._onkeydown()},onkeyup:function(b){if("undefined"!==typeof b)return this._onkeyup=b,this;this._onkeyup()},focus:function(b){var a=this,c;if(!a._readonly){a._hasFocus||a._onfocus(a);a._selectionUpdated?delete a._selectionUpdated:a._selection=[0,0];a._cursorPos="number"===typeof b?b:a._clipText().length;a._placeHolder===a._value&&(a._value="");a._hasFocus=!0;a._cursor=!0;a._cursorInterval&&clearInterval(a._cursorInterval);a._cursorInterval=setInterval(function(){a._cursor=
!a._cursor;a.render()},500);b=navigator.userAgent.toLowerCase();b=0<=b.indexOf("chrome")&&0<=b.indexOf("mobile")&&0<=b.indexOf("android");var d="undefined"!==typeof window.orientation;d&&!b&&document&&document.createElement&&(c=document.createElement("input"))?(c.type="text",c.style.opacity=0,c.style.position="absolute",c.style.left=a._x+a._extraX+(a._canvas?a._canvas.offsetLeft:0)+"px",c.style.top=a._y+a._extraY+(a._canvas?a._canvas.offsetTop:0)+"px",c.style.width=a._width,c.style.height=0,document.body.appendChild(c),
c.focus(),c.addEventListener("blur",function(){a.blur(a)},!1)):d&&a.value(prompt(a._placeHolder)||"");return a.render()}},blur:function(b){b=b||this;b._disableBlur||(b._onblur(b),b._cursorInterval&&clearInterval(b._cursorInterval),b._hasFocus=!1,b._cursor=!1,b._selection=[0,0],""===b._value&&(b._value=b._placeHolder));return b.render()},disableBlur:function(b){(b||this)._disableBlur=!0},enableBlur:function(b){(b||this)._disableBlur=!1},keydown:function(e,a){var c=e.which,d=e.shiftKey,g=null,n;if(a._hasFocus){a._onkeydown(e,
a);if(65===c&&(e.ctrlKey||e.metaKey))return a._selection=[0,a._value.length],e.preventDefault(),a.render();if(17===c||e.metaKey||e.ctrlKey)return a;e.preventDefault();if(8===c)!a._clearSelection()&&0<a._cursorPos&&(d=a._value.substr(0,a._cursorPos-1),n=a._value.substr(a._cursorPos,a._value.length),a._value=d+n,a._cursorPos--);else if(37===c)0<a._cursorPos&&(a._cursorPos--,a._cursor=!0,a._selection=[0,0]);else if(39===c)a._cursorPos<a._value.length&&(a._cursorPos++,a._cursor=!0,a._selection=[0,0]);
else if(13===c)a._onsubmit(e,a);else if(9===c)if(a._tabToClear)a._value="",a._cursorPos=0;else{var k=b[a._inputsIndex+1]?a._inputsIndex+1:0;k!==a._inputsIndex&&(a.blur(),setTimeout(function(){b[k].focus()},10))}else if(g=a._mapCodeToKey(d,c)){a._clearSelection();if(a._maxlength&&a._maxlength<=a._value.length)return;d=a._value?a._value.substr(0,a._cursorPos):"";n=a._value?a._value.substr(a._cursorPos):"";a._value=d+g+n;a._cursorPos++}return 13==c&&a._renderOnReturn||13!==c?a.render():function(){}}},
click:function(b,a){var c=a._mousePos(b),d=c.x,c=c.y;if(a._endSelection)delete a._endSelection,delete a._selectionUpdated;else if(a._canvas&&a._overInput(d,c)||!a._canvas){if(a._mouseDown)return a._mouseDown=!1,a.click(b,a),a.focus(a._clickPos(d,c))}else return a.blur()},mousemove:function(b,a){var c=a._mousePos(b),d=c.x,g=c.y;(c=a._overInput(d,g))&&a._canvas?(a._canvas.style.cursor="text",a._wasOver=!0):a._wasOver&&a._canvas&&(a._canvas.style.cursor="default",a._wasOver=!1);if(a._hasFocus&&0<=a._selectionStart)if(g=
a._clickPos(d,g),d=Math.min(a._selectionStart,g),g=Math.max(a._selectionStart,g),!c)a._selectionUpdated=!0,a._endSelection=!0,delete a._selectionStart,a.render();else if(a._selection[0]!==d||a._selection[1]!==g)a._selection=[d,g],a.render()},mousedown:function(b,a){var c=a._mousePos(b),d=c.x,c=c.y,g=a._overInput(d,c);a._mouseDown=g;a._hasFocus&&g&&(a._selectionStart=a._clickPos(d,c))},mouseup:function(b,a){var c=a._mousePos(b),d=c.x,c=c.y,g=a._clickPos(d,c)!==a._selectionStart;a._hasFocus&&0<=a._selectionStart&&
a._overInput(d,c)&&g?(a._selectionUpdated=!0,delete a._selectionStart,a.render()):delete a._selectionStart;a.click(b,a)},renderCanvas:function(){return this._renderCanvas},cleanup:function(){this._canvas.removeEventListener("mouseup",this.mouseupCanvasListener,!1);this._canvas.removeEventListener("mousedown",this.mousedownCanvasListener,!1);this._canvas.removeEventListener("mousemove",this.mousemoveCanvasListener,!1);window.removeEventListener("keydown",this.keydownWindowListener,!1);window.removeEventListener("keyup",
this.keyupWindowListener,!1);window.removeEventListener("mouseup",this.mouseupWindowListener,!0);window.removeEventListener("paste",this.pasteWindowListener,!1);clearInterval(this._cursorInterval);this._canvas.style.cursor="default";for(var e=0;e<b.length;e++)b[e]===this&&b.remove(e)},render:function(){var b=this,a=b._renderCtx,c=b.outerW,d=b.outerH,g=b._borderRadius,n=b._borderWidth,k=b.shadowW,r=b.shadowH;a.clearRect(0,0,a.canvas.width,a.canvas.height);a.shadowOffsetX=b._boxShadow.x;a.shadowOffsetY=
b._boxShadow.y;a.shadowBlur=b._boxShadow.blur;a.shadowColor=b._boxShadow.color;0<b._borderWidth&&(a.fillStyle=b._borderColor,b._roundedRect(a,b.shadowL,b.shadowT,c-k,d-r,g),a.fill(),a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0);b._drawTextBox(function(){a.shadowOffsetX=0;a.shadowOffsetY=0;a.shadowBlur=0;var f=b._clipText(),y=b._padding+b._borderWidth+b.shadowT;if(0<b._selection[1]){var z=b._textWidth(f.substring(0,b._selection[0])),B=b._textWidth(f.substring(b._selection[0],b._selection[1]));
a.fillStyle=b._selectionColor;a.fillRect(y+z,y,B,b._height)}a.fillStyle=b._placeHolder===b._value&&""!==b._value?b._placeHolderColor:b._fontColor;b._cursor&&(z=b._textWidth(f.substring(0,b._cursorPos)),a.fillRect(y+z,y,1,b._height));z=b._padding+b._borderWidth+b.shadowL;y=Math.round(y+b._height/2);a.font=b._fontStyle+" "+b._fontWeight+" "+b._fontSize+"px "+b._fontFamily;a.textAlign="left";a.textBaseline="middle";a.fillText(f,z,y);B=b._innerShadow.split("px ");f="none"===b._innerShadow?0:parseInt(B[0],
10);y="none"===b._innerShadow?0:parseInt(B[1],10);z="none"===b._innerShadow?0:parseInt(B[2],10);B="none"===b._innerShadow?"":B[3];if(0<z){var L=b._shadowCtx,K=L.canvas.width,Z=L.canvas.height;L.clearRect(0,0,K,Z);L.shadowBlur=z;L.shadowColor=B;L.shadowOffsetX=0;L.shadowOffsetY=y;L.fillRect(-1*c,-100,3*c,100);L.shadowOffsetX=f;L.shadowOffsetY=0;L.fillRect(K,-1*d,100,3*d);L.shadowOffsetX=0;L.shadowOffsetY=y;L.fillRect(-1*c,Z,3*c,100);L.shadowOffsetX=f;L.shadowOffsetY=0;L.fillRect(-100,-1*d,100,3*d);
b._roundedRect(a,n+b.shadowL,n+b.shadowT,c-2*n-k,d-2*n-r,g);a.clip();a.drawImage(b._shadowCanvas,0,0,K,Z,n+b.shadowL,n+b.shadowT,K,Z)}b._ctx&&(b._ctx.clearRect(b._x,b._y,a.canvas.width,a.canvas.height),b._ctx.drawImage(b._renderCanvas,b._x,b._y));return b})},_drawTextBox:function(b){var a=this,c=a._renderCtx,d=a.outerW,g=a.outerH,n=a._borderRadius,k=a._borderWidth,r=a.shadowW,f=a.shadowH;if(""===a._backgroundImage)c.fillStyle=a._backgroundColor,a._roundedRect(c,k+a.shadowL,k+a.shadowT,d-2*k-r,g-2*
k-f,n),c.fill(),b();else{var y=new Image;y.src=a._backgroundImage;y.onload=function(){c.drawImage(y,0,0,y.width,y.height,k+a.shadowL,k+a.shadowT,d,g);b()}}},_clearSelection:function(){if(0<this._selection[1]){var b=this._selection[0],a=this._selection[1];this._value=this._value.substr(0,b)+this._value.substr(a);this._cursorPos=b;this._cursorPos=0>this._cursorPos?0:this._cursorPos;this._selection=[0,0];return!0}return!1},_clipText:function(b){b="undefined"===typeof b?this._value:b;var a=this._textWidth(b)/
(this._width-this._padding);return(1<a?b.substr(-1*Math.floor(b.length/a)):b)+""},_textWidth:function(b){var a=this._renderCtx;a.font=this._fontStyle+" "+this._fontWeight+" "+this._fontSize+"px "+this._fontFamily;a.textAlign="left";return a.measureText(b).width},_calcWH:function(){this.outerW=this._width+2*this._padding+2*this._borderWidth+this.shadowW;this.outerH=this._height+2*this._padding+2*this._borderWidth+this.shadowH},_updateCanvasWH:function(){var b=this._renderCanvas.width,a=this._renderCanvas.height;
this._renderCanvas.setAttribute("width",this.outerW);this._renderCanvas.setAttribute("height",this.outerH);this._shadowCanvas.setAttribute("width",this._width+2*this._padding);this._shadowCanvas.setAttribute("height",this._height+2*this._padding);this._ctx&&this._ctx.clearRect(this._x,this._y,b,a)},_roundedRect:function(b,a,c,d,g,n){d<2*n&&(n=d/2);g<2*n&&(n=g/2);b.beginPath();b.moveTo(a+n,c);b.lineTo(a+d-n,c);b.quadraticCurveTo(a+d,c,a+d,c+n);b.lineTo(a+d,c+g-n);b.quadraticCurveTo(a+d,c+g,a+d-n,c+
g);b.lineTo(a+n,c+g);b.quadraticCurveTo(a,c+g,a,c+g-n);b.lineTo(a,c+n);b.quadraticCurveTo(a,c,a+n,c);b.closePath()},_overInput:function(b,a){var c=b<=this._x+this._extraX+this._width+2*this._padding,d=a>=this._y+this._extraY,g=a<=this._y+this._extraY+this._height+2*this._padding;return b>=this._x+this._extraX&&c&&d&&g},_clickPos:function(b,a){var c=this._value;this._value===this._placeHolder&&(c="");var c=this._clipText(c),d=0,g=c.length;if(b-(this._x+this._extraX)<this._textWidth(c))for(var n=0;n<
c.length;n++)if(d+=this._textWidth(c[n]),d>=b-(this._x+this._extraX)){g=n;break}return g},_mousePos:function(b){var a=b.target,c=document.defaultView.getComputedStyle(a,void 0),d=parseInt(c.paddingLeft,10)||0,g=parseInt(c.paddingLeft,10)||0,n=parseInt(c.borderLeftWidth,10)||0,c=parseInt(c.borderLeftWidth,10)||0,k=document.body.parentNode.offsetTop||0,r=document.body.parentNode.offsetLeft||0,f=0,y=0;if("unefined"!==typeof a.offsetParent){do f+=a.offsetLeft,y+=a.offsetTop;while(a=a.offsetParent)}return{x:b.pageX-
(f+(d+n+r)),y:b.pageY-(y+(g+c+k))}},_mapCodeToKey:function(b,a){for(var c=[8,9,13,16,17,18,20,27,91,92],d="",d=0;d<c.length;d++)if(a===c[d])return;if("boolean"===typeof b&&"number"===typeof a)return c={32:" ",48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",107:"+",173:"_",189:"_",186:":",187:"+",188:"<",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},d=b?65<=a&&90>=a?String.fromCharCode(a):c[a]:65<=a&&90>=a?String.fromCharCode(a).toLowerCase():96===a?"0":97===
a?"1":98===a?"2":99===a?"3":100===a?"4":101===a?"5":102===a?"6":103===a?"7":104===a?"8":105===a?"9":188===a?",":190===a?".":191===a?"/":192===a?"`":220===a?"\\":187===a?"=":189===a||173===a?"-":222===a?"'":186===a?";":219===a?"[":221===a?"]":String.fromCharCode(a)}};B.exports=f})()},{}],2:[function(C,B,O){(function(){function b(){}function f(b){b=new Uint8Array(b);if(y)return String.fromCharCode.apply(null,b);for(var a="",c=0;c<b.length;c++)a+=String.fromCharCode(b[c]);return a}function e(b){return 0<=
b&&31>b?1<<b:e[b]||(e[b]=Math.pow(2,b))}function a(b){var a=document.createElement("a");a.href=b;for(var c=a.protocol.replace(":",""),g=a.hostname,n=a.port,d=a.search,k={},r=a.search.replace(/^\?/,"").split("&"),e=r.length,f=0,w;f<e;f++)r[f]&&(w=r[f].split("="),k[w[0]]=w[1]);return{source:b,protocol:c,host:g,port:n,query:d,params:k,file:(a.pathname.match(/\/([^\/?#]+)$/i)||[null,""])[1],hash:a.hash.replace("#",""),path:a.pathname.replace(/^([^\/])/,"/$1"),relative:(a.href.match(/tps?:\/\/[^\/]+(.+)/)||
[null,""])[1],segments:a.pathname.replace(/^\//,"").split("/")}}function c(b,a,c){c=c||1024;var g=0,n=new ArrayBuffer(b.length),d=new Uint8Array(n),k=function(){for(var r=g+c;g<r;g++)d[g]=b.charCodeAt(g)&255;g>=b.length?a(n):setTimeout(k,0)};setTimeout(k,0)}var d=C("./common");navigator.userAgent.match(/(iPad|iPhone|iPod)/i);var g=function(){var b=new ArrayBuffer(4),a=new Uint32Array(b),b=new Uint8Array(b);a[0]=3735928559;if(239===b[0])return"LE";if(222===b[0])return"BE";throw Error("unknown endianness");
}(),n={S:1,C:2,V:3,Q:4,M:9,X:10,T:16,U:1,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9},k={P:0.125,A:1,O:1,B:1,I:2,L:4,X:8,F:4,D:8},r={P:null,A:null,O:Uint8Array,B:Int8Array,I:Int16Array,L:Int32Array,X:null,F:Float32Array,D:Float64Array},w={P:null,A:null,O:"getUint8",B:"getInt8",I:"getInt16",L:"getInt32",X:function(b,a,c){var g,n,d=Math.pow(2,53);c?(g=4,n=0):(g=0,n=4);g=b.getInt32(a+g,c);b=b.getInt32(a+n,c)+e(32)*g;return b>=d?(window.console.info("Int is bigger than JS can represent."),Infinity):b},F:"getFloat32",
D:"getFloat64"},y=!0;try{var z=new Uint8Array(new ArrayBuffer(4));z[0]=66;z[1]=76;z[2]=85;z[3]=69;"BLUE"!==String.fromCharCode.apply(null,z)&&(y=!1)}catch(W){y=!1}b.BlueHeader=function(b,a){this.options={ext_header_type:"dict"};d.update(this.options,a);this.file_name=this.file=null;this.offset=0;this.buf=b;if(null!=this.buf){var g=new DataView(this.buf);this.version=f(this.buf.slice(0,4));this.headrep=f(this.buf.slice(4,8));this.datarep=f(this.buf.slice(8,12));var c="EEEI"===this.headrep,n="EEEI"===
this.datarep;this.ext_start=g.getInt32(24,c);this.ext_size=g.getInt32(28,c);this.type=g.getUint32(48,c);this["class"]=this.type/1E3;this.format=f(this.buf.slice(52,54));this.timecode=g.getFloat64(56,c);1===this["class"]?(this.xstart=g.getFloat64(256,c),this.xdelta=g.getFloat64(264,c),this.xunits=g.getInt32(272,c),this.yunits=g.getInt32(296,c),this.subsize=1):2===this["class"]&&(this.xstart=g.getFloat64(256,c),this.xdelta=g.getFloat64(264,c),this.xunits=g.getInt32(272,c),this.subsize=g.getInt32(276,
c),this.ystart=g.getFloat64(280,c),this.ydelta=g.getFloat64(288,c),this.yunits=g.getInt32(296,c));this.data_start=g.getFloat64(32,c);this.data_size=g.getFloat64(40,c);var g=this.data_start,k=this.data_start+this.data_size;this.ext_size&&(this.ext_header=this.unpack_keywords(this.buf,this.ext_size,512*this.ext_start,c));this.setData(this.buf,g,k,n)}};b.BlueHeader.prototype={setData:function(b,a,c,d){1===this["class"]?(this.spa=n[this.format[0]],this.bps=k[this.format[1]],this.bpa=this.spa*this.bps,
this.ape=1,this.bpe=this.ape*this.bpa):2===this["class"]&&(this.spa=n[this.format[0]],this.bps=k[this.format[1]],this.bpa=this.spa*this.bps,this.ape=this.subsize,this.bpe=this.ape*this.bpa);void 0===d&&(d="LE"===g);if("LE"===g&&!d)throw"Not supported "+g+" "+d;if("BE"===g&&this.littleEndianData)throw"Not supported "+g+" "+d;b?(this.dview=a&&c?this.createArray(b,a,(c-a)/this.bps):this.createArray(b),this.size=this.dview.length/(this.spa*this.ape)):this.dview=this.createArray(null,null,this.size)},
unpack_keywords:function(b,a,c,g){var n,d,k,r,e,y,z=[],u={},Y={},D=0;b=b.slice(c,b.length);var s=new DataView(b);for(b=f(b);D<a;)y=D+8,c=s.getUint32(D,g),n=s.getInt16(D+4,g),d=s.getInt8(D+6,g),k=b.slice(D+7,D+8),n=c-n,e=y+n,d=b.slice(e,e+d),"A"===k?r=b.slice(y,y+n):w[k]?r="string"===typeof w[k]?s[w[k]](y,g):w[k](s,y,g):window.console.info("Unsupported keyword format "+k+" for tag "+d),"undefined"===typeof u[d]?u[d]=1:(u[d]++,d=""+d+u[d]),Y[d]=r,z.push({tag:d,value:r}),D+=c;b=["dict","json",{},"XMTable",
"JSON","DICT"];for(var v in b)if(b[v]===this.options.ext_header_type)return Y;return z},createArray:function(b,a,c){var g=r[this.format[1]];if(void 0===g)throw"unknown format "+this.format[1];void 0===a&&(a=0);void 0===c&&(c=b.length||b.byteLength/k[this.format[1]]);return b?new g(b,a,c):new g(c)}};b.BlueFileReader=function(b){this.options=b};b.BlueFileReader.prototype={readheader:function(a,c){var g=this,d=new FileReader,n=a.webkitSlice(0,512);d.onloadend=function(a){return function(n){n.target.error?
c(null):(n=new b.BlueHeader(d.result,g.options),n.file=a,c(n))}}(a);d.readAsArrayBuffer(n)},read:function(a,c){var g=this,d=new FileReader;d.onloadend=function(a){return function(n){n.target.error?c(null):(n=new b.BlueHeader(d.result,g.options),n.file=a,n.file_name=a.name,c(n))}}(a);d.readAsArrayBuffer(a)},read_http:function(g,d){var n=this,k=new XMLHttpRequest;k.open("GET",g,!0);k.responseType="arraybuffer";k.overrideMimeType("text/plain; charset=x-user-defined");k.onload=function(r){if(4!==k.readyState||
200!==k.status&&0!==k.status)d(null);else if(r=null,k.response){r=k.response;r=new b.BlueHeader(r,n.options);a(g);var e=a(g);r.file_name=e.file;d(r)}else k.responseText&&c(k.responseText,function(c){c=new b.BlueHeader(c,n.options);a(g);var k=a(g);c.file_name=k.file;d(c)})};k.onerror=function(b){d(null)};k.send(null)}};B.exports=b})()},{"./common":3}],3:[function(C,B,O){(function(){B.exports={};window.ArrayBuffer&&!ArrayBuffer.prototype.slice&&(ArrayBuffer.prototype.slice=function(b,f){var e=new Uint8Array(this);
void 0===f&&(f=e.length);for(var a=new ArrayBuffer(f-b),c=new Uint8Array(a),d=0;d<c.length;d++)c[d]=e[d+b];return a});Array.prototype.remove=function(b,f){var e=this.slice((f||b)+1||this.length);this.length=0>b?this.length+b:b;return this.push.apply(this,e)};window.requestAnimFrame=function(b){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){return window.setTimeout(b,
1E3/60)}}();window.cancelAnimFrame=function(b){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCanelAnimationFrame||function(b){window.clearTimeout(b)}}();B.exports.dashOn=function(b,f,e){return b.setLineDash?(b.setLineDash([f,e]),!0):void 0!==b.mozDash?(b.mozDash=[f,e],!0):b.webkitLineDash&&0===b.webkitLineDash.length?(b.webkitLineDash=[f,e],!0):!1};B.exports.dashOff=function(b){b.setLineDash?b.setLineDash([]):
b.mozDash?b.mozDash=null:b.webkitLineDash&&(b.webkitLineDash=[])};B.exports.getKeyCode=function(b){b=window.event||b;return b=b.charCode||b.keyCode};B.exports.setKeypressHandler=function(b){window.addEventListener?window.addEventListener("keypress",b,!1):window.attachEvent&&window.attachEvent("onkeypress",b)};Array.isArray||(Array.isArray=function(b){return"[object Array]"===Object.prototype.toString.call(b)});window.Float64Array||(window.Float64Array=function(){return window.Float64Array||function(b,
f,e){if(!(b instanceof ArrayBuffer))throw"Invalid type";var a=new DataView(b),c=[];b=(b.byteLength-f)/8;c.length=void 0===e?b:Math.min(e,b);for(e=0;e<c.length;e++)c[e]=a.getFloat64(8*e+f,!0);c.subarray=function(b,a){return c.slice(b,a)};return c}}());(function(){var b=function(){};window.console||(window.console={log:b,info:b,warn:b,debug:b,error:b});if((new Int8Array([0,1,0])).subarray(1).subarray(1)[0]){var f=function(b,a){0===arguments.length?(b=0,a=this.length):(0>b&&(b+=this.length),b=Math.max(0,
Math.min(this.length,b)),1===arguments.length?a=this.length:(0>a&&(a+=this.length),a=Math.max(b,Math.min(this.length,a))));return new this.constructor(this.buffer,this.byteOffset+b*this.BYTES_PER_ELEMENT,a-b)};[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array].forEach(function(b){b.prototype.subarray=f})}})();(function(b,f){function e(g,n,k,r){g[c](a+n,"wheel"===d?k:function(a){!a&&(a=b.event);var c={originalEvent:a,target:a.target||a.srcElement,type:"wheel",
deltaMode:"MozMousePixelScroll"===a.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){a.preventDefault?a.preventDefault():a.returnValue=!1}};"mousewheel"===d?(c.deltaY=-0.025*a.wheelDelta,a.wheelDeltaX&&(c.deltaX=-0.025*a.wheelDeltaX)):c.deltaY=a.detail;return k(c)},r||!1)}var a="",c,d;b.addEventListener?c="addEventListener":(c="attachEvent",a="on");d="onwheel"in f.createElement("div")?"wheel":void 0!==f.onmousewheel?"mousewheel":"DOMMouseScroll";b.addWheelListener=function(b,a,c){e(b,d,a,c);"DOMMouseScroll"===
d&&e(b,"MozMousePixelScroll",a,c)}})(window,document);B.exports.update=function f(e,a){for(var c in a){var d=a[c];"object"===typeof d?f(e[c],d):e[c]=d}return e}})()},{}],4:[function(C,B,O){(function(){function b(){}function f(b){return(10>b?"0":"")+b}var e=C("./bluefile"),a=C("loglevel");b.log=a;navigator.userAgent.match(/(iPad|iPhone|iPod)/i)||"undefined"===typeof Float64Array||Float64Array.emulated||!Float64Array.BYTES_PER_ELEMENT?b.PointArray=Float32Array:b.PointArray=Float64Array;var c={0:["None",
"U"],1:["Time","sec"],2:["Delay","sec"],3:["Frequency","Hz"],4:["Time code format",""],5:["Distance","m"],6:["Speed","m/s"],7:["Acceleration","m/sec^2"],8:["Jerk","m/sec^3"],9:["Doppler","Hz"],10:["Doppler rate","Hz/sec"],11:["Energy","J"],12:["Power","W"],13:["Mass","g"],14:["Volume","l"],15:["Angular power density","W/ster"],16:["Integrated power density","W/rad"],17:["Spatial power density","W/m^2"],18:["Integrated power density","W/m"],19:["Spectral power density","W/MHz"],20:["Amplitude","U"],
21:["Real","U"],22:["Imaginary","U"],23:["Phase","rad"],24:["Phase","deg"],25:["Phase","cycles"],26:["10*Log","U"],27:["20*Log","U"],28:["Magnitude","U"],29:["Unknown","U"],30:["Unknown","U"],31:["General dimensionless",""],32:["Counts",""],33:["Angle","rad"],34:["Angle","deg"],35:["Relative power","dB"],36:["Relative power","dBm"],37:["Relative power","dBW"],38:["Solid angle","ster"],40:["Distance","ft"],41:["Distance","nmi"],42:["Speed","ft/sec"],43:["Speed","nmi/sec"],44:["Speed","knots=nmi/hr"],
45:["Acceleration","ft/sec^2"],46:["Acceleration","nmi/sec^2"],47:["Acceleration","knots/sec"],48:["Acceleration","G"],49:["Jerk","G/sec"],50:["Rotation","rps"],51:["Rotation","rpm"],52:["Angular velocity","rad/sec"],53:["Angular velocity","deg/sec"],54:["Angular acceleration","rad/sec^2"],55:["Angular acceleration","deg/sec^2"],60:["Latitude","deg"],61:["Longitude","deg"],62:["Altitude","ft"],63:["Altitude","m"]};b.UNITS=c;b.Mc={colormap:[{name:"Greyscale",colors:[{pos:0,red:0,green:0,blue:0},{pos:60,
red:50,green:50,blue:50},{pos:100,red:100,green:100,blue:100},{pos:100,red:0,green:0,blue:0},{pos:100,red:0,green:0,blue:0},{pos:100,red:0,green:0,blue:0},{pos:100,red:0,green:0,blue:0}]},{name:"Ramp Colormap",colors:[{pos:0,red:0,green:0,blue:15},{pos:10,red:0,green:0,blue:50},{pos:31,red:0,green:65,blue:75},{pos:50,red:0,green:85,blue:0},{pos:70,red:75,green:80,blue:0},{pos:83,red:100,green:60,blue:0},{pos:100,red:100,green:0,blue:0}]},{name:"Color Wheel",colors:[{pos:0,red:100,green:100,blue:0},
{pos:20,red:0,green:80,blue:40},{pos:30,red:0,green:100,blue:100},{pos:50,red:10,green:10,blue:0},{pos:65,red:100,green:0,blue:0},{pos:88,red:100,green:40,blue:0},{pos:100,red:100,green:100,blue:0}]},{name:"Spectrum",colors:[{pos:0,red:0,green:75,blue:0},{pos:22,red:0,green:90,blue:90},{pos:37,red:0,green:0,blue:85},{pos:49,red:90,green:0,blue:85},{pos:68,red:90,green:0,blue:0},{pos:80,red:90,green:90,blue:0},{pos:100,red:95,green:95,blue:95}]},{name:"calewhite",colors:[{pos:0,red:100,green:100,blue:100},
{pos:16.666,red:0,green:0,blue:100},{pos:33.333,red:0,green:100,blue:100},{pos:50,red:0,green:100,blue:0},{pos:66.666,red:100,green:100,blue:0},{pos:83.333,red:100,green:0,blue:0},{pos:100,red:100,green:0,blue:100}]},{name:"HotDesat",colors:[{pos:0,red:27.84,green:27.84,blue:85.88},{pos:14.2857,red:0,green:0,blue:35.69},{pos:28.571,red:0,green:100,blue:100},{pos:42.857,red:0,green:49.8,blue:0},{pos:57.14286,red:100,green:100,blue:0},{pos:71.42857,red:100,green:37.65,blue:0},{pos:85.7143,red:41.96,
green:0,blue:0},{pos:100,red:87.84,green:29.8,blue:29.8}]},{name:"Sunset",colors:[{pos:0,red:10,green:0,blue:23},{pos:18,red:34,green:0,blue:60},{pos:36,red:58,green:20,blue:47},{pos:55,red:74,green:20,blue:28},{pos:72,red:90,green:43,blue:0},{pos:87,red:100,green:72,blue:0},{pos:100,red:100,green:100,blue:76}]}]};b.PIPESIZE=1048576;b.initialize=function(a,c){var d=new e.BlueHeader(null);d.version="BLUE";d.size=0;d.type=1E3;d.format="SF";d.timecode=0;d.xstart=0;d.xdelta=1;d.xunits=0;d.subsize=1;d.ystart=
0;d.ydelta=1;d.yunits=0;c||(c={});for(var r in c)d[r]=c[r];1<d.subsize&&(d.type=2E3);d["class"]=d.type/1E3;if(2===d["class"]&&void 0===c.subsize)throw"subsize must be provided with type 2000 files";c.pipe?(d.pipe=!0,d.in_byte=0,d.out_byte=0,d.buf=new ArrayBuffer(c.pipesize||b.PIPESIZE),d.setData(d.buf),d.data_free=d.dview.length):d.setData(a);return d};b.force1000=function(b){2===b["class"]&&(b.size=b.size&&!b.pipe?b.subsize*b.size:0,b.bpe/=b.subsize,b.ape=1)};b.grab=function(b,a,c,d){if(!b.dview)return 0;
"C"===b.format[0]&&(c*=2);d=Math.min(a.length,b.dview.length-c);if(void 0===a.set)for(var e=0;e<d;e++)a[e]=b.dview[c+e];else a.set(b.dview.subarray(c,c+d));"C"===b.format[0]&&(d/=2);return d};b.filad=function(b,a,c){if(b.data_free<a.length)throw"Pipe full";var d=b.in_byte/b.dview.BYTES_PER_ELEMENT,e=d+a.length;if(e>b.dview.length){var e=b.dview.length-d,f=a.length-e;a.subarray?(b.dview.set(a.subarray(0,e),d),b.dview.set(a.subarray(e,a.length),0)):(b.dview.set(a.slice(0,e),d),b.dview.set(a.slice(e,
a.length),0));b.in_byte=f*b.dview.BYTES_PER_ELEMENT}else b.dview.set(a,d),b.in_byte=e*b.dview.BYTES_PER_ELEMENT%b.buf.byteLength;b.data_free-=a.length;if(b.onwritelisteners)for(a=0;a<b.onwritelisteners.length;a++)if(c)b.onwritelisteners[a]();else window.setTimeout(b.onwritelisteners[a],0)};b.pavail=function(b){return b.dview.length-b.data_free};b.grabx=function(b,a,c,d){var e=b.dview.length-b.data_free;void 0===d&&(d=0);if(!c)c=Math.min(a.length-d,e);else if(c>a.length-d)throw"m.grabx : nget larger then available buffer space";
if(0>c)throw"m.grabx : nget cannot be negative";if(c>e)return 0;var e=b.out_byte/b.dview.BYTES_PER_ELEMENT,f=e+c;if(f>=b.dview.length){var z=b.dview.length-e,f=f-b.dview.length;a.set(b.dview.subarray(e,b.dview.length),d);a.set(b.dview.subarray(0,f),d+z)}else a.set(b.dview.subarray(e,f),d);b.out_byte=f*b.dview.BYTES_PER_ELEMENT%b.buf.byteLength;b.data_free+=c;return c};b.addPipeWriteListener=function(b,a){b.onwritelisteners||(b.onwritelisteners=[]);-1===b.onwritelisteners.indexOf(a)&&b.onwritelisteners.push(a)};
b.units_name=function(b){b=c[b];return b[0]+" ("+b[1]+")"};b.trim_name=function(b){var a=b.indexOf("]");-1===a&&(a=b.indexOf("/"));-1===a&&(a=b.indexOf(":"));var c=b.substr(a+1,b.length).indexOf(".");0>c&&(c=b.length-a);return b.substr(a+1,a+c+1)};b.label=function(a,d){var k=["Unknown","U"];"string"===typeof a?k=[a,null]:Array.isArray(a)?k=a:(k=c[a],void 0===k&&(k=["Unknown","U"]));var e=b.mult_prefix(d);return k[1]?k[0]+" ("+e+k[1]+")":k[0]};b.bound=function(b,a,c){return b<a?a:b>c?c:b};b.touch_distance=
function(b,a){var c=b.pageX-a.pageX,d=b.pageY-a.pageY;return Math.sqrt(c*c+d*d)};b.mult_prefix=function(b){var a="?";1==b?a="":10==b?a="da":0.1==b?a="d":100==b?a="h":0.01==b?a="c":1E3==b?a="K":0.001==b?a="m":1E6==b?a="M":1E-6==b?a="u":1E9==b?a="G":1E-9==b?a="n":1E12==b?a="T":1E-12==b&&(a="p");return a};var d="F";b.vstype=function(b){d=b;"D"===d||"L"===d||"F"===d||"I"===d||"B"===d||alert("Unsupported vector type")};b.log10=function(b,a){void 0===a&&(a=1E-20);return Math.log(Math.max(b,a))/Math.log(10)};
b.vlog10=function(b,a,c){void 0===a&&(a=1E-20);void 0===c&&(c=b);for(var d=0;d<b.length&&!(c.length<=d);d++)c[d]=Math.log(Math.max(b[d],a))/Math.log(10)};b.vlogscale=function(b,a,c,d){void 0===a&&(a=1E-20);void 0===c&&(c=1);void 0===d&&(d=b);for(var e=0;e<b.length&&!(d.length<=e);e++)d[e]=Math.log(Math.abs(Math.max(b[e],a)))/Math.log(10),d[e]*=c};b.cvmag2logscale=function(b,a,c,d){void 0===a&&(a=1E-20);void 0===c&&(c=1);void 0===d&&(d=b);for(var e=0,f=0;f<d.length;f++){e=2*f+1;if(e>=b.length)break;
d[f]=b[e-1]*b[e-1]+b[e]*b[e];d[f]=Math.log(Math.abs(Math.max(d[f],a)))/Math.log(10);d[f]*=c}};b.vsmul=function(b,a,c,d){void 0===c&&(c=b);void 0===d&&(d=c.length);d=Math.min(c.length,d);d=Math.min(b.length,d);for(var e=0;e<d&&!(c.length<=e);e++)c[e]=b[e]*a};b.vmxmn=function(b,a){var c=b[0],d=b[0],e=0,f=0;a=Math.min(a,b.length);for(var z=0;z<a;z++)b[z]>c&&(c=b[z],e=z),b[z]<d&&(d=b[z],f=z);return{smax:c,smin:d,imax:e,imin:f}};b.vmov=function(b,a,c,d,e){void 0===e&&(e=b.length);e=Math.min(b.length,e);
for(var f=0;f<e;f++){var z=f*a,B=f*d;if(z>=b.length)break;if(B>=c.length)break;c[B]=b[z]}};b.vfill=function(b,a,c){void 0===c&&(c=b.length);c=Math.min(b.length,c);for(var d=0;d<c;d++)b[d]=a};b.vabs=function(b,a,c){void 0===c&&(c=b.length);void 0===a&&(a=b);for(var d=0;d<c;d++)a[d]=Math.abs(b[d])};b.cvmag=function(b,a,c){void 0===c&&(c=a.length);c=Math.min(a.length,c);for(var d=0;d<c;d++){var e=2*d+1;if(e>=b.length)break;a[d]=Math.sqrt(b[e-1]*b[e-1]+b[e]*b[e])}};b.cvmag2=function(b,a,c){void 0===c&&
(c=a.length);c=Math.min(a.length,c);for(var d=0,e=0;e<c;e++){d=2*e+1;if(d>=b.length)break;a[e]=b[d-1]*b[d-1]+b[d]*b[d]}};b.cvpha=function(b,a,c){void 0===c&&(c=a.length);c=Math.min(a.length,c);for(var d=0,e=0,f=d=0;f<c;f++){d=2*f+1;if(d>=b.length)break;e=b[d-1];d=b[d];0===e&&0===d&&(e=1);a[f]=Math.atan2(d,e)}};b.cvphad=function(b,a,c){void 0===c&&(c=a.length);c=Math.min(a.length,c);for(var d=0,e=0,f=d=0;f<c;f++){d=2*f+1;if(d>=b.length)break;e=b[d-1];d=b[d];0===e&&0===d&&(e=1);a[f]=Math.atan2(d,e)*
(180/Math.PI)}};b.trunc=function(b){return b-b%1};b.sign=function(b,a){return 0<=a?Math.abs(b):-Math.abs(b)};b.sec2tod=function(b,a){var c="",c=Date.UTC(1950,0,1);Date.UTC(1949,11,31);var d=new Date,d=new Date(d.getFullYear(),d.getMonth(),d.getDate(),0,0,0,0);0<=b?86400>b?(c=d.getTime()+1E3*b,d=new Date(c),c=f(d.getHours())+":"+f(d.getMinutes())+":"+f(d.getSeconds())):86400===b?c="24:00:00":31536E3>b?(c=b/86400,c=[0<c?Math.floor(c):Math.ceil(c)],d=new Date(1E3*b+d.getTime()),c=c.toString()+"::"+f(d.getHours())+
":"+f(d.getMinutes())+":"+f(d.getSeconds())):(c=Math.floor(1E3*b)+c,d=new Date(c),c=d.getUTCFullYear()+":"+f(d.getUTCMonth()+1)+":"+f(d.getUTCDate())+"::"+f(d.getUTCHours())+":"+f(d.getUTCMinutes())+":"+f(d.getUTCSeconds())):-31536E3<b?(c=b/86400,c=0>=c?Math.ceil(c):Math.floor(c),d=new Date(Math.abs(1E3*b)+d.getTime()),c=0===c?"-0":c.toString(),c=c+"::"+f(d.getHours())+":"+f(d.getMinutes())+":"+f(d.getSeconds())):(c=Math.floor(1E3*b)+c,d=new Date(c),c=d.getUTCFullYear()+":"+f(d.getUTCMonth()+1)+":"+
f(d.getUTCDate())+"::"+f(d.getUTCHours())+":"+f(d.getUTCMinutes())+":"+f(d.getUTCSeconds()));c=0===b%1?c+".000000":c+("."+Math.abs(b%1).toPrecision(6).slice(2,8));if(a){var d=c.indexOf("."),e=-1;-1!==d&&(e=c.substr(d,c.length).indexOf("0"));-1!==e&&(c=c.substr(0,d+e))}return c};b.sec2tspec=function(a,c,d){c=c||"";if(0<=a&&86400>=a)return b.sec2tod(a,d);a%=86400;return"delta"!==c&&0>=a?b.sec2tod(a+86400,d):"delta"===c&&0>=a?"-"+b.sec2tod(-1*a,d):b.sec2tod(a,d)};b.sec2tod_j1970=function(b){var a="";
0<=b&&86400>b?(a=new Date(1E3*b),a=f(a.getHours())+":"+f(a.getMinutes())+":"+f(a.getSeconds())):0>b&&-31536E3<b?(a=new Date(1E3*b),a=(b/86400*-1).toString()+"::"+f(a.getHours())+":"+f(a.getMinutes())+":"+f(a.getSeconds())):(a=new Date(1E3*(b-631152E3)),a=a.getFullYear()+":"+f(a.getMonth())+":"+f(a.getDate())+"::"+f(a.getHours())+":"+f(a.getMinutes())+":"+f(a.getSeconds()));0!==b%1&&(a+="."+(b%1).toPrecision(6).slice(2,8));return a};b.j1970toj1950=function(b){return void 0!==b.getTime?b.getTime()/
1E3+631152E3:b+631152E3};b.j1950toj1970=function(b){return b-631152E3};b.throttle=function(b,a){var c=(new Date).getTime();return function(){var d=(new Date).getTime();d-c>=b&&(c=d,a.apply(null,arguments))}};B.exports=b})()},{"./bluefile":2,loglevel:12}],5:[function(C,B,O){(function(){function b(){}function f(){this.ymax=this.ymin=this.xmax=this.xmin=this.yl=this.xl=this.yo=this.xo=0;this.mode=this.func=void 0}function e(u){this.root=u;this.parent=document.createElement("div");this.parent.style.position=
"relative";this.parent.width=u.clientWidth;this.parent.height=u.clientHeight;u.appendChild(this.parent);this.canvas=document.createElement("canvas");this.canvas.style.position="absolute";this.canvas.style.top="0px";this.canvas.style.left="0px";this.canvas.width=u.clientWidth;this.canvas.height=u.clientHeight;this.parent.appendChild(this.canvas);this.active_canvas=this.canvas;this.wid_canvas=document.createElement("canvas");this.wid_canvas.style.position="absolute";this.wid_canvas.style.top="0px";
this.wid_canvas.style.left="0px";this.wid_canvas.style.zIndex=1;this.wid_canvas.width=u.clientWidth;this.wid_canvas.height=u.clientHeight;this.parent.appendChild(this.wid_canvas);this.font=void 0;this.font_family="Courier New, monospace";this.level=this.text_h=this.text_w=0;this.width=this.parent.width;this.height=this.parent.height;this.ymrk=this.xmrk=this.ypos=this.xpos=0;this.origin=1;this.stk=[new b.STKSTRUCT];b.setbgfg(this,"black","white");this.warpbox=this.event_cb=void 0;this.rmode=!1;this.linewidth=
1;this.style=void 0;this.xi=!1;this.l=this.state_mask=this.button_press=this.button_release=0;this.r=this.width;this.t=0;this.b=this.height;this.scrollbar_x=new b.SCROLLBAR;this.scrollbar_y=new b.SCROLLBAR;this.prompt=void 0;this.pixel=[];this._renderCanvas=document.createElement("canvas")}function a(u,b,a,c,d,h,M){d<=a?M>a&&0<(c-b)*(M-a)-(h-b)*(d-a)&&(u+=1):M<=a&&0>(c-b)*(M-a)-(h-b)*(d-a)&&(u-=1);return u}function c(u,a){if(!a.animationFrameHandle){var c=Math.floor((u.canvas.height-70)/(1.5*u.text_h));
E.n_show=c>=a.items.length?a.items.length:c;a.animationFrameHandle=requestAnimFrame(b.withWidgetLayer(u,function(){b.erase_window(u);a.animationFrameHandle=void 0;var c=1.5*u.text_h;a.x=Math.max(a.x,0);a.y=Math.max(a.y,0);a.x=Math.min(a.x,u.width-a.w);a.y=Math.min(a.y,u.height-a.h);var D=a.x+E.GBorder+Math.max(0,E.sidelab),d=a.y+E.GBorder+E.toplab*(c+E.GBorder),M=a.w-2*E.GBorder-Math.abs(E.sidelab);b.widgetbox(u,a.x,a.y,a.w,a.h,D,d,M,a.h-2*E.GBorder-E.toplab*(c+E.GBorder),a.title);var l=u.wid_canvas.getContext("2d");
l.lineWidth=1;l.strokeStyle=u.xwbs;l.beginPath();l.moveTo(D,d-4+0.5);l.lineTo(D+M-1,d-4+0.5);l.stroke();l.strokeStyle=u.xwts;l.beginPath();l.moveTo(D,d-3+0.5);l.lineTo(D+M-1,d-3+0.5);l.stroke();var p=a.queue[0],e=a.queue[E.n_show-1];if(0===e){for(e=0;e<E.n_show;e++)a.queue[e]=e;p=a.queue[0];e=a.queue[E.n_show-1]}for(var m=0;p<=e;p++){var q=a.items[p],t=d+c*m,m=m+1;"separator"===q.style?(l.fillStyle=u.xwbs,l.fillRect(D,t,M,c),l.beginPath(),l.moveTo(D,t+0.5),l.lineTo(D+M,t+0.5),l.stroke(),l.textBaseline=
"middle",l.textAlign="left",l.fillStyle=u.xwfg,l.fillText(" "+q.text+" ",D+2*u.text_w,t+c/2)):(b.LEGACY_RENDER?(l.fillStyle=u.xwlo,l.fillRect(D,t,M,c),l.beginPath(),l.moveTo(D,t+0.5),l.lineTo(D+M,t+0.5),l.stroke(),q.selected&&b.shadowbox(u,D-1,t,M+2,c,1,2,"",0.75)):(l.save(),l.globalAlpha=0.75,l.fillStyle=q.selected?u.xwts:u.xwlo,l.fillRect(D,t,M,c),l.restore(),l.strokeStyle=u.bg,l.beginPath(),l.moveTo(D,t+0.5),l.lineTo(D+M,t+0.5),l.stroke()),l.textBaseline="middle",l.textAlign="left",l.fillStyle=
u.xwfg,"checkbox"===q.style?(l.fillText(" "+q.text+" ",D+2*u.text_w,t+c/2),l.strokeStyle=u.xwfg,l.strokeRect(D+1+u.text_w,t+(c-u.text_w)/2,u.text_w,u.text_w),q.checked&&(l.beginPath(),l.moveTo(D+1+u.text_w,t+(c-u.text_w)/2),l.lineTo(D+1+u.text_w+u.text_w,t+(c-u.text_w)/2+u.text_w),l.stroke(),l.beginPath(),l.moveTo(D+1+u.text_w+u.text_w,t+(c-u.text_w)/2),l.lineTo(D+1+u.text_w,t+(c-u.text_w)/2+u.text_w),l.stroke())):(l.fillText(" "+q.text+" ",D,t+c/2),q.checked&&(l.beginPath(),l.moveTo(D+1,t+u.text_h/
4),l.lineTo(D+1+u.text_w-2,t+u.text_h/4+u.text_h/2),l.lineTo(D+1,t+u.text_h/4+u.text_h),l.lineTo(D+1,t+u.text_h/4),l.fill())))}}))}}function d(u,a){b.onWidgetLayer(u,function(){b.erase_window(u)});u.menu=void 0;u.widget=null;for(var c=0;c<a.items.length;c++){var d=a.items[c];if(d.selected){d.handler?d.handler():d.menu&&(c=d.menu,"function"===typeof d.menu&&(c=d.menu()),c.finalize=a.finalize,b.menu(u,c));break}}!u.menu&&a.finalize&&a.finalize()}function g(u,a){b.onWidgetLayer(u,function(){b.erase_window(u)});
u.menu=void 0;u.widget=null;!u.menu&&a.finalize&&a.finalize()}function n(b,a,c){var d=!0,v;v=a/b;0<b?v>c.tL?d=!1:v>c.tE&&(c.tE=v):0>b?v<c.tE?d=!1:v<c.tL&&(c.tL=v):0<a&&(d=!1);return d}function k(b,a,c,d,v,h,M,l){0>a&&(a=0);0>c&&(c=0);0>d&&(d=0);0>v&&(v=0);l&&(b.lineWidth=l);M&&(b.strokeStyle=M);1===b.lineWidth%2&&(a===d&&(d=a=Math.floor(a)+0.5),c===v&&(v=c=Math.floor(c)+0.5));if(!h||!h.mode)b.beginPath(),b.moveTo(a,c),b.lineTo(d,v),b.stroke(),b.beginPath();else if("dashed"===h.mode){if(Q.dashOn(b,
h.on,h.off))b.beginPath(),b.moveTo(a,c),b.lineTo(d,v),b.stroke(),Q.dashOff(b);else if(b.beginPath(),c===v)for(v=Math.min(a,d),d=Math.max(a,d);v<d;)b.moveTo(v,c),b.lineTo(v+h.on,c),b.stroke(),v+=h.on+h.off;else if(a===d)for(d=Math.min(c,v),v=Math.max(c,v);d<v;)b.moveTo(a,d),b.lineTo(a,d+h.on),b.stroke(),d+=h.on+h.off;else throw"Only horizontal or vertical dashed lines are supported";b.beginPath()}else if("xor"===h.mode)if("undefined"===typeof Uint8ClampedArray)b.beginPath(),b.moveTo(a,c),b.lineTo(d,
v),b.stroke(),b.beginPath();else{M=h=0;if(c===v)h=Math.abs(d-a),M=l,a=Math.min(a,d);else if(a===d)h=l,M=Math.abs(v-c),c=Math.min(c,v);else throw"Only horizontal and vertical lines can be drawn with XOR";if(0!==h&&0!==M){a=Math.floor(a);c=Math.floor(c);d=b.getImageData(a,c,h,M);v=d.data;h=0;for(l=v.length;h<l;h+=4)v[h]=255-v[h],v[h+1]=255-v[h+1],v[h+2]=255-v[h+2],v[h+3]=255;b.putImageData(d,a,c);b.clearRect(0,0,1,1)}}}function r(b,a,c,d,v){w(b,a,v);c&&(b.strokeStyle=c);d&&(b.fillStyle=d);b.fill();
b.closePath()}function w(b,a,c){if(!(1>a.length)){var d=a[0].x,v=a[0].y;b.lineWidth=c?c:1;b.beginPath();b.moveTo(d,v);for(c=0;c<a.length;c++)d=a[c].x,v=a[c].y,b.lineTo(d,v)}}function y(b){return Math.floor(Math.round(b/100*255))}function z(b,a,c){return"rgb("+Math.round(b)+", "+Math.round(a)+", "+Math.round(c)+")"}function W(b,a){var c,d;if(".000000"===b.substring(5,8))c=4;else for(c=b.length-1;"0"===b[c];)c-=1;for(d=0;" "===b[d]&&(5<c-d+1||a);)d+=1;c=b.substring(d,c+1);-1===c.indexOf(".")&&(c+=".");
return c}function L(u){u._animationFrameHandle=void 0;var a=u.warpbox;u.active_canvas.getContext("2d");if(a&&u.xpos>=a.xmin&&u.xpos<=a.xmax&&u.ypos>=a.ymin&&u.ypos<=a.ymax){a.xl=u.xpos;a.yl=u.ypos;var c=Math.min(a.xo,a.xl),d=Math.min(a.yo,a.yl),v=Math.abs(a.xl-a.xo),h=Math.abs(a.yl-a.yo);0!==v&&0!==h&&("vertical"===a.mode?(c=u.l,v=u.r-u.l):"horizontal"===a.mode&&(d=u.t,h=u.b-u.t),b.onWidgetLayer(u,function(){b.erase_window(u);b.draw_box(u,"xor",c,d,v,h,a.style.opacity,a.style.fill_color)}))}}function K(b,
a,c){return b<a?a:b>c?c:b}function O(b,a,c,d,v,h,M,l,p,e,m,q,t){void 0===e&&(e=0);void 0===m&&(m=0);void 0===q&&(q=c.width-e);void 0===t&&(t=c.height-m);b._renderCanvas.width=c.width;b._renderCanvas.height=c.height;for(var g=b._renderCanvas.getContext("2d"),f=g.createImageData(b._renderCanvas.width,b._renderCanvas.height),n=new Uint8Array(c),k=0;k<c.height;++k)for(var r=0;r<c.width;++r){var x=4*(k*c.width+r);f.data[x]=n[x];f.data[x+1]=n[x+1];f.data[x+2]=n[x+2];f.data[x+3]=255}g.putImageData(f,0,0);
a.save();a.globalAlpha=d;v||(a.imageSmoothingEnabled=!1,a.mozImageSmoothingEnabled=!1,a.webkitImageSmoothingEnabled=!1);a.drawImage(b._renderCanvas,e,m,q,t,h,M,l,p);a.restore()}function aa(b,a,c,d,v,h,e,l,p,g,m,q,t){void 0===g&&(g=0);void 0===m&&(m=0);void 0===q&&(q=c.width-g);void 0===t&&(t=c.height-m);if(32768>c.width&&32768>c.height){b._renderCanvas.width=c.width;b._renderCanvas.height=c.height;var f=b._renderCanvas.getContext("2d"),n=f.createImageData(b._renderCanvas.width,b._renderCanvas.height);
c=new Uint8ClampedArray(c);n.data.set(c);f.putImageData(n,0,0)}else 32768>q&&32768>t?(b._renderCanvas.width=q,b._renderCanvas.height=t,V(b._renderCanvas,c,g,m,q,t)):(b._renderCanvas.width=Math.min(2*l,c.width),b._renderCanvas.height=Math.min(2*p,c.height),V(b._renderCanvas,c,g,m,q,t),q=b._renderCanvas.width,t=b._renderCanvas.height),m=g=0;a.save();a.globalAlpha=d;v||(a.imageSmoothingEnabled=!1,a.mozImageSmoothingEnabled=!1,a.webkitImageSmoothingEnabled=!1);a.drawImage(b._renderCanvas,g,m,q,t,h,e,
l,p);a.restore()}function V(b,a,c,d,v,h){var e=new Uint32Array(a);v||(v=a.width);h||(h=a.height);c||(c=0);d||(d=0);var l=b.width,p=b.height;b=b.getContext("2d");var g=b.createImageData(l,p),m=new ArrayBuffer(g.data.length),q=new Uint8ClampedArray(m),m=new Uint32Array(m);v/=l;h/=p;for(var t=0,f=0,p=t=0;p<m.length;p++)t=Math.round(Math.floor(p%l)*v)+c,f=Math.round(Math.floor(p/l)*h)+d,t=Math.floor(f*a.width+t),m[p]=e[t];g.data.set(q);b.putImageData(g,0,0)}var S=C("tinycolor2"),Q=C("./common"),A=C("./CanvasInput"),
x=C("./m");b.XW_INIT=-3;b.XW_DRAW=1;b.XW_EVENT=2;b.XW_UPDATE=3;b.XW_COMMAND=5;b.SB_EXPAND=1;b.SB_SHRINK=2;b.SB_FULL=3;b.SB_STEPINC=4;b.SB_STEPDEC=5;b.SB_PAGEINC=6;b.SB_PAGEDEC=7;b.SB_DRAG=8;b.SB_WHEELUP=9;b.SB_WHEELDOWN=10;b.L_ArrowLeft=1001;b.L_ArrowRight=1002;b.L_ArrowUp=1003;b.L_ArrowDown=1004;b.L_dashed=801;b.GBorder=3;b.L_RModeOff=900;b.L_RModeOn=901;b.L_PixelSymbol=1;b.L_CircleSymbol=2;b.L_SquareSymbol=3;b.L_PlusSymbol=4;b.L_XSymbol=5;b.L_TriangleSymbol=6;b.L_ITriangleSymbol=7;b.L_HLineSymbol=
8;b.L_VLineSymbol=9;b.LEGACY_RENDER=!1;b.STKSTRUCT=function(){this.y2=this.x2=this.y1=this.x1=this.yscl=this.xscl=this.ymax=this.ymin=this.xmax=this.xmin=0};b.SCROLLBAR=function(){this.repeat_count=this.origin=this.mxevent=this.arrow=this.a2=this.a1=this.soff=this.swmin=this.sw=this.s1=this.h=this.w=this.y=this.x=this.repeat_pause=this.initial_pause=this.dragoutline=this.scale=this.page=this.step=this.trange=this.tmin=this.srange=this.smin=this.action=this.flag=null};b.open=function(a){a=new e(a);
a.wid_canvas.oncontextmenu=function(b){b.preventDefault();return!1};this._ctx=a.active_canvas.getContext("2d");a.onmousemove=function(a){return function(u){var c=u.target.getBoundingClientRect();a.x=u.x||u.clientX;a.y=u.y||u.clientY;a.xpos=void 0===u.offsetX?u.pageX-c.left-window.scrollX:u.offsetX;a.ypos=void 0===u.offsetX?u.pageY-c.top-window.scrollY:u.offsetY;a.warpbox&&(a.warpbox.style=(u.ctrlKey||u.metaKey)&&void 0!==a.warpbox.alt_style?a.warpbox.alt_style:a.warpbox.def_style,b.redraw_warpbox(a));
b.widget_callback(a,u)}}(a);a.onmouseup=function(a){return function(u){if(a.warpbox){b.onWidgetLayer(a,function(){b.erase_window(a)});var c=a.warpbox;a.warpbox=void 0;if((1===u.which||3===u.which)&&c.func){var d=c.xo,h=c.yo,e=c.xl,l=c.yl;"vertical"===c.mode?(d=a.l,e=a.r):"horizontal"===c.mode&&(h=a.t,l=a.b);c.func(u,d,h,e,l,c.style.return_value,c.mode)}}b.widget_callback(a,u)}}(a);a.onmousedown=function(a){return function(u){u.preventDefault();b.widget_callback(a,u);return!1}}(a);a.onkeydown=function(a){return function(u){if(a.warpbox){var c=
Q.getKeyCode(u);17!==c&&224!==c&&91!==c&&93!==c||a.warpbox.style===a.warpbox.alt_style||(a.warpbox.style=a.warpbox.alt_style,b.redraw_warpbox(a))}b.widget_callback(a,u)}}(a);a.onkeyup=function(a){return function(u){a.warpbox&&(u=Q.getKeyCode(u),17!==u&&224!==u&&91!==u&&93!==u||a.warpbox.style===a.warpbox.def_style||(a.warpbox.style=a.warpbox.def_style,b.redraw_warpbox(a)))}}(a);a.ontouchend=function(b){return function(a){b.onmouseup({which:1})}}(a);a.ontouchmove=function(a){return function(u){var c=
a.canvas,d=0,h=0;if(void 0!==c.offsetParent){do d+=c.offsetLeft,h+=c.offsetTop;while(c=c.offsetParent)}a.xpos=u.targetTouches[0].pageX-d;a.ypos=u.targetTouches[0].pageY-h;b.redraw_warpbox(a)}}(a);b.enableListeners(a);return a};b.enableListeners=function(a){b.addEventListener(a,"mousemove",a.onmousemove,!1);window.addEventListener("mouseup",a.onmouseup,!1);b.addEventListener(a,"mousedown",a.onmousedown,!1);window.addEventListener("keydown",a.onkeydown,!1);window.addEventListener("keyup",a.onkeyup,
!1)};b.disableListeners=function(a){b.removeEventListener(a,"mousemove",a.onmousemove,!1);window.removeEventListener("mouseup",a.onmouseup,!1);b.removeEventListener(a,"mousedown",a.onmousedown,!1);window.removeEventListener("keydown",a.onkeydown,!1);window.removeEventListener("keyup",a.onkeyup,!1)};b.addEventListener=function(b,a,c,d){return b.wid_canvas.addEventListener(a,c,d)};b.removeEventListener=function(b,a,c,d){return b.wid_canvas.removeEventListener(a,c,d)};b.dispatchEvent=function(b,a){return b.wid_canvas.dispatchEvent(a)};
b.onWidgetLayer=function(a,c){b.onCanvas(a,a.wid_canvas,c)};b.onCanvas=function(b,a,c){var d=b.active_canvas;b.active_canvas=a;try{if(c)return c()}finally{b.active_canvas=d}};b.withWidgetLayer=function(a,c){return function(){b.onWidgetLayer(a,c)}};b.render=function(b,a){if(a){var c=b.active_canvas;c._animationFrameHandle||(c._animationFrameHandle=requestAnimFrame(function(){c._animationFrameHandle=void 0;a()}))}};b.fullscreen=function(a,c){void 0===c&&(c=!a.fullscreen);c?(a.fullscreen={position:a.root.style.position,
height:a.root.style.height,width:a.root.style.width,left:a.root.style.left,top:a.root.style.top,zIndex:a.root.style.zIndex},a.root.style.position="fixed",a.root.style.height="100%",a.root.style.width="100%",a.root.style.left="0px",a.root.style.top="0px",a.root.style.zIndex=16777271):(a.root.style.position=a.fullscreen.position,a.root.style.height=a.fullscreen.height,a.root.style.width=a.fullscreen.width,a.root.style.left=a.fullscreen.left,a.root.style.top=a.fullscreen.top,a.root.style.zIndex=a.fullscreen.zIndex,
a.fullscreen=void 0);b.checkresize(a)};b.checkresize=function(a){var b=a.canvas;return b.height!==a.root.clientHeight||b.width!==a.root.clientWidth?(a.height=a.root.clientHeight,a.width=a.root.clientWidth,a.canvas.height=a.height,a.canvas.width=a.width,a.wid_canvas.height=a.height,a.wid_canvas.width=a.width,!0):!1};b.invertbgfg=function(a){b.setbgfg(a,a.fg,a.bg,!a.xi)};b.mixcolor=function(a,b,c){a=S(a).toRgb();b=S(b).toRgb();var d=1-c;b.r=a.r*d+b.r*c;b.g=a.g*d+b.g*c;b.b=a.b*d+b.b*c;return S(b).toHexString(!0)};
b.linear_gradient=function(a,b,c,d,v,h){var e=a.active_canvas.getContext("2d");a=1/h.length;b=e.createLinearGradient(b,c,d,v);for(c=0;c<h.length-1;c++)b.addColorStop(a*c,h[c]);b.addColorStop(1,h[h.length-1]);return b};b.setbgfg=function(a,c,d,s){a.bg=S(c).toHexString();a.fg=S(d).toHexString();a.xi=S(s).toHexString();S.equals(a.bg,"black")&&S.equals(a.fg,"white")?(a.xwfg=a.fg,a.xwbg="rgb(35%,35%,30%)",a.xwts="rgb(60%,60%,55%)",a.xwbs="rgb(25%,25%,20%)",a.xwms=b.mixcolor(a.xwts,a.xwbs,0.5),a.xwlo="rgb(15%,15%,10%)",
a.hi=a.xwts):S.equals(a.bg,"white")&&S.equals(a.fg,"black")?(a.xwfg=a.fg,a.xwbg="rgb(60%,60%,55%)",a.xwts="rgb(80%,80%,75%)",a.xwbs="rgb(40%,40%,35%)",a.xwms=b.mixcolor(a.xwts,a.xwbs,0.5),a.xwlo="rgb(70%,70%,65%)",a.hi=a.xwbs):(c=S(a.bg).toRgb(),127.5<Math.sqrt(0.299*c.r*c.r+0.587*c.g*c.g+0.114*c.b*c.b)?(a.xwfg="black",a.xwbg="rgb(60%,60%,55%)",a.xwts="rgb(80%,80%,75%)",a.xwbs="rgb(40%,40%,35%)",a.xwms=b.mixcolor(a.xwts,a.xwbs,0.5),a.xwlo="rgb(70%,70%,65%)",a.hi=a.xwts):(a.xwfg="white",a.xwbg="rgb(35%,35%,30%)",
a.xwts="rgb(60%,60%,55%)",a.xwbs="rgb(25%,25%,20%)",a.xwms=b.mixcolor(a.xwts,a.xwbs,0.5),a.xwlo="rgb(15%,15%,10%)",a.hi=a.xwbs))};b.settheme=function(a,b){a.bg=b.bg;a.fg=b.fg;a.xi=b.xi;a.xwfg=b.xwfg;a.xwbg=b.xwbg;a.xwts=b.xwts;a.xwbs=b.xwbs;a.xwlo=b.xwlo;a.hi=b.hi};b.close=function(a){var b=a.wid_canvas;b.removeEventListener("mousemove",a.onmousemove,!1);b.removeEventListener("mouseup",a.onmouseup,!1);a.parent&&a.parent.parentNode&&a.parent.parentNode.removeChild(a.parent)};b.scrollbar=function(a,
c,d,s,v,h,e,l,p,g,m){var q,t,f,n=0,k=new b.SCROLLBAR;q=void 0!==c.flag?c.flag:c;t=Math.abs(q);f=h-v>s-d?3>a.origin?2:4:a.origin&2?3:1;10>t&&(c=k);if(10>t||0===c.action)b.scroll(a,c,b.XW_INIT,void 0,m),c.flag=q,c.initial_pause=-1,b.scroll_loc(c,d,v,s-d+1,h-v+1,f,m);c.srange=e.pe-e.ps;switch(t){case 0:d=s=v=1;break;case 1:case 11:d=s=0.9*c.srange;v=2;break;case 2:case 12:d=0.1*c.srange;s=9*d;v=2;break;case 3:case 13:d=1;s=c.srange-1;v=1;break;default:return 0}b.scroll_vals(c,e.ps,c.srange,l,p-l,d,s,
v,m);0===q?b.scroll(a,c,b.XW_DRAW,void 0,void 0):b.scroll(a,c,b.XW_EVENT,g,m)&&(e.ps!==c.smin&&(e.ps=c.smin,n+=1),e.pe!==c.smin+c.srange&&(e.pe=c.smin+c.srange,n+=2));return n};b.scroll=function(a,c,d,s,v){var h;if(void 0===c)return!1;switch(d){case b.XW_INIT:b.scroll_loc(c,0,0,a.width,20,1,v);b.scroll_vals(c,0,10,0,100,1,10,1,v);c.flag=0;c.action=0;c.initial_pause=0.25;c.repeat_pause=0.05;c.mxevent=!0;c.repeat_count=0;break;case b.XW_EVENT:h=0;if(c.mxevent)h=a.button_release?-a.button_release:a.button_press;
else if("mousedown"===s.type||"mouseup"===s.type){switch(s.which){case 1:h=1;break;case 2:h=2;break;case 3:h=3;break;case 4:h=4;break;case 5:h=5}"mouseup"===s.type&&(h=-h)}else if("mousewheel"===s.type||"DOM-MouseScroll"===s.type)s.wheelDelta&&0<s.wheelDelta?h=4:s.wheelDelta&&0>s.wheelDelta&&(h=5);if(0===c.action){if(4===h||5===h)a.xpos=c.x;if(1!==h&&2!==h&&4!==h&&5!==h||a.xpos<c.x||a.ypos<c.y||a.xpos>c.x+c.w||a.ypos>c.y+c.h)return!1}else if(0>h){c.action=c.repeat_count=0;break}c.origin&1?(s=a.xpos-
c.x,c.origin&2&&(s=c.w-s)):(s=a.ypos-c.y,2>=c.origin&&(s=c.h-s));if(0===c.action){c.repeat_count=0;var e=b.scroll_real2pix(c);c.s1=v.s1=e.s1;c.sw=v.sw=e.sw;c.soff=v.soff=s-c.s1;if(0===c.trange)c.smin=v.smin=c.tmin,c.srange=v.srange=0;else switch(h){case 1:c.action=s>c.a1&&s<c.a2?0<c.soff?b.SB_PAGEINC:b.SB_PAGEDEC:0<c.soff?b.SB_STEPINC:b.SB_STEPDEC;break;case 4:c.action=b.SB_WHEELUP;break;case 5:c.action=b.SB_WHEELDOWN;break}}else switch(c.action){case b.SB_WHEELUP:case b.SB_WHEELDOWN:case b.SB_EXPAND:case b.SB_SHRINK:case b.SB_FULL:c.action=
c.repeat_count=0}case b.XW_COMMAND:h=c.smin;s=c.srange;switch(c.action){case b.SB_STEPINC:h+=c.step;break;case b.SB_STEPDEC:h-=c.step;break;case b.SB_PAGEINC:h+=c.page;break;case b.SB_PAGEDEC:h-=c.page;break;case b.SB_FULL:h=c.tmin;s=c.trange;break;case b.SB_EXPAND:s*=c.scale;h=0>=h&&0<=h+c.srange?h*c.scale:h-(s-c.srange)/2;break;case b.SB_SHRINK:s/=c.scale;h=0>h&&0<=h+c.srange?h+s/c.scale:0===h&&0<=h+c.srange?s/c.scale:h+(c.srange-s)/2;break;case b.SB_WHEELUP:h-=c.page;break;case b.SB_WHEELDOWN:h+=
c.page}0<c.trange?(h=Math.max(c.tmin,Math.min(h,c.tmin+c.trange-s)),s=Math.min(s,c.trange)):(h=Math.min(c.tmin,Math.max(h,c.tmin+c.trange-s)),s=Math.max(s,c.trange));c.smin===h&&c.srange===s?c.action!==b.SB_DRAG&&(c.action=c.repeat_count=0):(c.smin=v.smin=h,c.srange=v.srange=s,c.repeat_count++);d===b.XW_COMMAND&&(b.scroll(a,c,b.XW_UPDATE,void 0),c.action=0);break;case b.XW_DRAW:case b.XW_UPDATE:b.redrawScrollbar(c,a,d)}return!0};b.scroll_loc=function(a,c,d,s,v,h,e){void 0!==a&&(a.x=e.x=c,a.y=e.y=
d,a.w=e.w=s,a.h=e.h=v,a.origin=e.origin=Math.max(1,Math.min(4,h)),a.origin&1?(a.a2=e.a2=a.w,a.arrow=e.arrow=Math.min(x.trunc((a.w-x.trunc(2*b.GBorder))/3),a.h+b.GBorder)):(a.a2=e.a2=a.h,a.arrow=e.arrow=Math.min(x.trunc((a.h-x.trunc(2*b.GBorder))/3),a.w+b.GBorder)),a.a1=e.a1=a.arrow+b.GBorder,a.a2-=a.arrow+b.GBorder,e.a2-=a.arrow+b.GBorder,a.swmin=e.swmin=Math.min(10,a.a2-a.a1),a.s1=e.s1=0,a.sw=e.sw=0,a.action=e.action=0)};b.scroll_vals=function(a,b,c,d,v,h,e,l,p){void 0!==a&&(a.smin=p.smin=b,a.srange=
p.srange=c,a.tmin=p.tmin=d,a.trange=p.trange=v,a.step=p.step=h,a.page=p.page=e,a.scale=p.scale=Math.max(l,1))};b.draw_symbol=function(a,c,d,s,v,h,e){for(var l=a.active_canvas.getContext("2d"),p=0,g=0,m=0,q=!1,t=[],g=0;4>g;g++)t[g]={x:0,y:0};g="";q=0>h;p=Math.abs(h);g=2*p;l.fillStyle=c;l.strokeStyle=c;if("function"===typeof v)v(l,e,d,s);else switch(v){case b.L_CircleSymbol:l.beginPath();q?(l.arc(d,s,p,0,360),l.fill()):(l.arc(d,s,p,0,360),l.stroke());break;case b.L_SquareSymbol:q?l.fillRect(d-p,s-p,
g,g):l.strokeRect(d-p,s-p,g,g);break;case b.L_PixelSymbol:l.beginPath();l.arc(d,s,1,0,2*Math.PI,!0);l.fill();break;case b.L_ITriangleSymbol:p=-p;case b.L_TriangleSymbol:g=x.trunc(1.5*p);m=x.trunc(0.8*p);t[1].x=-m;t[1].y=g;t[2].x=2*m;t[2].y=0;t[3].x=-m;t[3].y=-g;a=[];for(g=0;4>g;g++)a[g]={x:0,y:0};q?(a[0].x=d,a[0].y=s-p,a[1].x=a[0].x+t[1].x,a[1].y=a[0].y+t[1].y,a[2].x=a[1].x+t[2].x,a[2].y=a[1].y+t[2].y,a[3].x=a[2].x+t[3].x,a[3].y=a[2].y+t[3].y,r(l,a)):(a[0].x=d,a[0].y=s-p,a[1].x=a[0].x+t[1].x,a[1].y=
a[0].y+t[1].y,a[2].x=a[1].x+t[2].x,a[2].y=a[1].y+t[2].y,a[3].x=a[2].x+t[3].x,a[3].y=a[2].y+t[3].y,w(l,a,void 0),l.stroke(),l.closePath());break;case b.L_PlusSymbol:k(l,d,s+p,d,s-p);k(l,d+p,s,d-p,s);break;case b.L_HLineSymbol:k(l,d+p,s,d-p,s);break;case b.L_VLineSymbol:k(l,d,s+p,d,s-p);break;case b.L_XSymbol:k(l,d-p,s-p,d+p,s+p);k(l,d+p,s-p,d-p,s+p);break;default:g=v,p=x.trunc(a.text_w/2),q&&l.fillText(g.substring(0,2),d-p,s+p)}};b.draw_symbols=function(a,c,d,s,v,h,e,l){for(var p=0;p<v;p++)b.draw_symbol(a,
c,d[p],s[p],h,e,p+l)};b.trace=function(c,d,D,s,v,h,e,l,p,g,m){if(void 0===D||void 0===s)throw"mx.trace requires xpoint and ypoint";void 0===e&&(e=1);void 0===l&&(l=1);void 0===p&&(p=0);void 0===g&&(g=0);void 0===m&&(m={});if(0>=v)x.log.warn("No points to draw");else if(0===l&&0===p)x.log.warn("No line or symbol to draw");else{var q;m.dashed&&(q={mode:"dashed",on:4,off:4});var t=b.origin(c.origin,4,c.stk[c.level]);if(0!==t.xscl&&0!==t.yscl){var f=t.x1,k=t.y1,I=t.xmin,r=1/t.xscl,y=t.ymin,N=1/t.yscl;
m.noclip||b.clip(c,f,k,t.x2-f+1,t.y2-k+1);var z=Math.abs(t.xmax-t.xmin),B=Math.abs(t.ymax-t.ymin),w=Math.min(t.xmin,t.xmax),t=Math.min(t.ymin,t.ymax),X=w+z,E=t+B,C=4*Math.ceil(2*D.length),K=new Int32Array(new ArrayBuffer(C)),C=new Int32Array(new ArrayBuffer(C)),F=0;if(0===l&&0!==p)for(var J=e-1;J<v;J+=e){var G=D[J],H=s[J],V=G>=w&&G<=X&&H>=t&&H<=E;V&&(K[0]=Math.round((G-I)*r)+f,C[0]=Math.round((H-y)*N)+k,b.draw_symbol(c,d,K[0],C[0],p,g,h+J))}else if(!0===m.vertsym&&0!==p)for(J=e-1;J<v;J+=e)G=D[J],
H=s[J],G>=w&&G<=X&&(l=Math.round((G-I)*r)+f,b.draw_line(c,d,l,0,l,c.height),H>=t&&H<=E&&(K[0]=l,C[0]=Math.round((H-y)*N)+k,b.draw_symbol(c,d,K[0],C[0],p,g,h+J)));else if(!0===m.horzsym&&0!==p)for(J=e-1;J<v;J+=e)G=D[J],H=s[J],H>=t&&H<=E&&(l=Math.round((H-y)*N)+k,b.draw_line(c,d,0,l,c.width,l),G>=w&&G<=X&&(K[0]=Math.round((G-I)*r)+f,C[0]=l,b.draw_symbol(c,d,K[0],C[0],p,g,h+J)));else if(0!==l){var A;if(m&&m.highlight){A=[];for(J=0;J<m.highlight.length;J++)if(!(m.highlight[J].xstart>=X||m.highlight[J].xend<=
w)&&(G=Math.max(m.highlight[J].xstart,w),H=Math.min(m.highlight[J].xend,X),G<H)){G=Math.round((G-I)*r)+f;H=Math.round((H-I)*r)+f;for(z=A.length-1;0<=z;z--)G<=A[z].start&&H>=A[z].end?A.splice(z,1):(G>=A[z].start&&H<=A[z].end?(A.push({start:H,end:A[z].end,color:A[z].color}),A[z].end=G):G<=A[z].start&&H>=A[z].start?A[z].start=H:G<=A[z].end&&H>=A[z].end&&(A[z].end=G),A[z].end<=A[z].start&&A.splice(z,1));A.push({start:G,end:H,color:m.highlight[J].color})}A.push({start:f,color:d});A.sort(function(a,b){return a.start-
b.start})}else A=d;var L,W=(c.stk[c.level].xmax+c.stk[c.level].xmin)/2,O=(c.stk[c.level].ymax+c.stk[c.level].ymin)/2,G=D[0],H=s[0];L=a(0,W,O,c.stk[c.level].xmin,c.stk[c.level].ymin,G,H);(V=G>=w&&G<=X&&H>=t&&H<=E)?(K[F]=Math.round((G-I)*r)+f,C[F]=Math.round((H-y)*N)+k,F+=1,0!==p&&b.draw_symbols(c,d,K,C,1,p,g,h)):F=0;for(var R=0,S=!1,J=e;J<=e*(v-1);J+=e)if(z=G,B=H,G=D[J],H=s[J],L=a(L,W,O,z,B,G,H),S=G>=w&&G<=X&&H>=t&&H<=E,V&&S)K[F]=Math.round((G-I)*r)+f,C[F]=Math.round((H-y)*N)+k,F+=1;else if(V=S,z-=
G,B-=H,0!==z||0!==B){var Q={tL:1,tE:0};n(z,w-G,Q)&&n(-z,G-X,Q)&&n(B,t-H,Q)&&n(-B,H-E,Q)&&(1>Q.tL&&(K[F]=Math.round((G-I+Q.tL*z)*r)+f,C[F]=Math.round((H-y+Q.tL*B)*N)+k,F+=1),0<Q.tE?(K[F]=Math.round((G-I+Q.tE*z)*r)+f,C[F]=Math.round((H-y+Q.tE*B)*N)+k,F+=1,b.draw_lines(c,A,K.subarray(R,F),C.subarray(R,F),F-R,l,q),0!==p&&2<F-R&&b.draw_symbols(c,d,K.subarray(R+1,F-1),C.subarray(R+1,F-1),F-R-2,p,g,h+J-(F-R-2)),R=F):(K[F]=Math.round((G-I)*r)+f,C[F]=Math.round((H-y)*N)+k,F+=1))}L=a(L,W,O,G,H,c.stk[c.level].xmax,
c.stk[c.level].ymin);L=a(L,W,O,c.stk[c.level].xmax,c.stk[c.level].ymin,c.stk[c.level].xmin,c.stk[c.level].ymin);0<F-R&&(b.draw_lines(c,A,K.subarray(R,F),C.subarray(R,F),F-R,l,q),S&&(R+=1),0!==p&&1<F-R&&b.draw_symbols(c,d,K.subarray(R-1,F),C.subarray(R-1,F),F-R-1,p,g,J-F+h));m.fillStyle&&(1<F||0!==L)&&b.fill_trace(c,m.fillStyle,K,C,F)}m.noclip||b.clip(c,0,0,0,0)}}};b.draw_mode=function(a,b,c){a.linewidth=void 0===b?1:b;a.style=c};b.draw_line=function(a,b,c,d,e,h,g,l){var p=a.active_canvas.getContext("2d");
void 0===g&&(g=a.linewidth);void 0===l&&(l=a.style);"number"===typeof b&&(a.pixel&&0!==a.pixel.length?(b=Math.max(0,Math.min(a.pixel.length,b)),b=z(a.pixel[b].red,a.pixel[b].green,a.pixel[b].blue)):(x.log.warn("COLORMAP not initialized, defaulting to foreground"),b=a.fg));k(p,c,d,e,h,l,b,g)};b.rubberline=function(a,b,c,d,e){a=a.active_canvas.getContext("2d");k(a,b,c,d,e,{mode:"xor"},"white",1)};b.fill_trace=function(a,c,d,s,e){var h=a.active_canvas.getContext("2d");Array.isArray(c)?h.fillStyle=b.linear_gradient(a,
0,0,0,a.b-a.t,c):h.fillStyle=c;if(1>e)h.fillRect(a.l,a.t,a.r-a.l,a.b-a.t);else if(c){c=d[0];var g=s[0];h.beginPath();g===a.t?h.lineTo(a.l,a.t):h.lineTo(a.l,a.b);h.lineTo(c,g);for(var l=1;l<e;l++)c=d[l],g=s[l],h.lineTo(c,g);g===a.t&&h.lineTo(a.r,a.t);h.lineTo(a.r,a.b);s[0]===a.t&&h.lineTo(a.l,a.b);h.closePath();h.fill()}};b.draw_lines=function(a,b,c,d,e,h,g){var l=a.active_canvas.getContext("2d");if(!(1>e)){var p=c[0],f=d[0];void 0===h&&(h=a.linewidth);void 0===g&&(g=a.style);g&&"dashed"===g.mode&&
(Q.dashOn(l,g.on,g.off)||x.log.warn("WARNING: Dashed lines aren't supported on your browser"));l.lineWidth=h;a=0;"string"===typeof b?b=[{start:0,color:b}]:b instanceof Array||(void 0===b.start&&(b.start=0),b=[b]);for(h=0;h<b.length;h++)null!=b[h].end&&b[h].end<p?b.remove(h):b[h].start<p&&(a=h);l.strokeStyle=b[a].color;l.beginPath();l.moveTo(p,f);for(h=0;h<e;h++)if(p!==c[h]||f!==d[h]){p=c[h];f=d[h];g=!1;if(0<a&&null!=b[a].end&&b[a].end<p)for(g=!0;null!=b[a].end&&b[a].end<p&&(b.remove(a),a-=1,0!==a););
if(a+1<b.length&&b[a+1].start<=p)for(g=!0;a+1<b.length&&b[a+1].start<=p;)a++;l.lineTo(p,f);g&&(l.stroke(),l.strokeStyle=b[a].color,l.beginPath(),l.lineTo(p,f))}l.stroke();Q.dashOff(l);l.beginPath()}};b.clip=function(a,b,c,d,e){a=a.active_canvas.getContext("2d");0===b&&0===c&&0===d&&0===e?a.restore():(a.save(),a.beginPath(),a.rect(b,c,d,e),a.clip())};b.clear_window=function(a){var b=a.active_canvas.getContext("2d");b.fillStyle=a.bg;b.fillRect(0,0,a.width,a.height)};b.erase_window=function(a){a.active_canvas.getContext("2d").clearRect(0,
0,a.width,a.height)};b.rubberbox=function(a,c,d,e,g){b.warpbox(a,a.xpos,a.ypos,a.xpos,a.ypos,0,a.width,0,a.height,c,d,e,g)};b.warpbox=function(a,b,c,d,e,h,g,l,p,n,m,q,t){q||(q={});a.warpbox=new f;a.warpbox.xo=b;a.warpbox.yo=c;a.warpbox.xl=d;a.warpbox.yl=e;a.warpbox.xmin=h;a.warpbox.xmax=g;a.warpbox.ymin=l;a.warpbox.ymax=p;a.warpbox.func=n;a.warpbox.mode=m;a.warpbox.style=q;a.warpbox.def_style=q;a.warpbox.alt_style=t};b.origin=function(a,c,d){a=Math.max(1,a);c=Math.max(1,c);var e=new b.STKSTRUCT;e.xmin=
d.xmin;e.xmax=d.xmax;e.ymin=d.ymin;e.ymax=d.ymax;e.xscl=d.xscl;e.yscl=d.yscl;e.x1=d.x1;e.y1=d.y1;e.x2=d.x2;e.y2=d.y2;if(a!==c){var g=Math.abs(c-a);a=c+a;if(2===g||5!==a)e.xmin=d.xmax,e.xmax=d.xmin,e.xscl=-d.xscl;if(2===g||5===a)e.ymin=d.ymax,e.ymax=d.ymin,e.yscl=-d.yscl}return e};b.mult=function(a,b){var c=Math.max(Math.abs(a),Math.abs(b));if(0===c)return 1;var d=0.1447648*Math.log(c),d=d|d;1>c&&(d-=1);return 0>d?1/Math.pow(10,-3*d):Math.pow(10,3*d)};b.widget_callback=function(a,b){if(a.prompt&&3===
b.which)a.prompt.input.onsubmit();a.widget&&a.widget.callback(b)};b.prompt=function(a,c,d,e,g,h,f,l,p){if(void 0!==h&&(g=d(h),!g.valid))throw"Prompt default input value not valid due to '"+g.reason+"'";b.onWidgetLayer(a,function(){var g=a.active_canvas.getContext("2d"),m=g.font.indexOf("px"),q=m+3,m=g.font.substr(0,m),g=g.font.substr(q,g.font.length).toString(),g=new A({height:a.text_h,fontFamily:g,fontSize:new Number(m),backgroundColor:a.bg,fontColor:a.fg,borderWidth:0,borderRadius:0,padding:0,boxShadow:"none",
innerShadow:"none",width:30*a.text_w,value:void 0!==h?h.toString():"",disableBlur:!0,renderOnReturn:!1,tabToClear:!0}),t=function(c,m){return function(){var h=this.value(),t=d(h);t.valid?(a.prompt=void 0,this.cleanup(),b.onWidgetLayer(a,function(){b.erase_window(a)}),e(h)):(b.message(a,"Value: '"+h+"' isn't valid due to '"+t.reason+"' - RETRY",void 0,c,m),setTimeout(function(){b.onWidgetLayer(a,function(){b.erase_window(a)});a.widget=null},null!=p?p:4E3))}},q=function(a,c,d){return function(u,m){b.onWidgetLayer(a,
function(){var h=(d.length+2)*a.text_w,e=h+31*a.text_w+6,Y=2*a.text_h+6;u||(u=a.xpos);m||(m=a.ypos);var g=Math.max(0,Math.min(u,a.width-e)),q=Math.max(0,Math.min(m,a.height-Y)),l=g+3,D=q+3,s=D+1.5*a.text_h,v=l+a.text_w;b.widgetbox(a,g,q,e,Y,l,D,0,"");b.text(a,v,s,d);e=s-1.15*a.text_h;c.x(l+a.text_w+h-a.text_w);c.y(e);c.onsubmit(t(g,e-75));c.canvas()?c.render():c.canvas(a.active_canvas)})}}(a,g,c);q(f,l);g.focus();a.prompt={redraw:q,input:g}})};b.floatValidator=function(a,b){return(void 0!==b&&!1!==
b||""!==a)&&isNaN(parseFloat(a))||!isFinite(a)?{valid:!1,reason:"Failed float validation: not a valid floating point number"}:{valid:!0,reason:""}};b.intValidator=function(a,b){return(void 0===b||!1===b)&&""===a||parseFloat(a)===parseInt(a,10)&&!isNaN(a)?{valid:!0,reason:""}:{valid:!1,reason:"Failed integer validation: not a valid integer"}};b.message=function(a,c,d,e,g,h){b.onWidgetLayer(a,function(){b.render_message_box(a,c,e,g);a.widget={type:h||"ONESHOT",callback:function(c){if("mousedown"===
c.type||"keydown"===c.type)a.widget=null,b.onWidgetLayer(a,function(){b.erase_window(a)})}}})};b.render_message_box=function(a,c,d,e,g){var h=c.split(/\r\n|\r|\n/g),f=0,l;if(1===h.length){f=Math.min((a.width-6)/a.text_w-2,c.length);if(0>=f)return;for(;40<f&&2.5*a.text_h*c.length<a.height*f;)f-=5;var p=0,n=0,m=0,q=0,t=0,k=0,h=[];for(l=!0;n<c.length;){for(var t=n+f-1,k=t=Math.min(t,c.length-1),r=!1,p=n;p<=t&&!r;p++)switch(c[p]){case ",":case ";":case " ":case ":":k=p;break;case "-":case "/":k!==p-1&&
(k=p);break;case "@":case "\n":case "\r":l=!1,r=!0,k=p}p===c.length&&(k=t);r?h.push(c.substring(n,k)):(p=c.substring(n,k+1).replace(/^\s+/,""),h.push(p));n=k+1;q=Math.max(q,h[m].length)}}else for(m=0;m<h.length;m++)f=Math.min((a.width-6)/a.text_w-2,Math.max(f,h[m].length));q=h.length;6<q&&(l=!1);p=0;m=Math.max(1,a.height/a.text_h);c=Math.min(q,p+m-1);f=(f+2)*a.text_w+6;q=(c-p+1)*a.text_h+6;d||(d=a.xpos);e||(e=a.ypos);d=Math.max(a.l,Math.min(d,a.r-f));m=Math.max(a.t,Math.min(e,a.b-q));e=d+3;k=m+3;
b.widgetbox(a,d,m,f,q,e,k,0,"");q=k+a.text_h/3;for(m=e+a.text_w;p<c;)q+=a.text_h,l&&(m=d+f/2-h[p].length*a.text_w/2),b.text(a,m,q,h[p],g),p++};b.draw_round_box=function(a,b,c,d,e,h,g,l,p){a=a.active_canvas.getContext("2d");p||(p=5);a.beginPath();a.moveTo(c+p,d);a.lineTo(c+e-p,d);a.quadraticCurveTo(c+e,d,c+e,d+p);a.lineTo(c+e,d+h-p);a.quadraticCurveTo(c+e,d+h,c+e-p,d+h);a.lineTo(c+p,d+h);a.quadraticCurveTo(c,d+h,c,d+h-p);a.lineTo(c,d+p);a.quadraticCurveTo(c,d,c+p,d);a.closePath();a.lineWidth=1;a.strokeStyle=
b;a.stroke();void 0!==g&&0<g&&(c=a.globalAlpha,a.globalAlpha=g,a.fillStyle=l?l:b,a.fill(),a.globalAlpha=c)};b.draw_box=function(a,b,c,d,e,h,g,l){var p=a.active_canvas.getContext("2d");if("xor"!==b)p.lineWidth=1,p.strokeStyle=b,p.strokeRect(c,d,e,h);else if("undefined"===typeof Uint8ClampedArray)p.lineWidth=1,p.strokeStyle=a.fg,p.strokeRect(c,d,e,h);else{c=Math.floor(c);d=Math.floor(d);e=Math.floor(e);h=Math.floor(h);a=a.canvas.getContext("2d");for(var f=a.getImageData(c,d,e,1),m=f.data,q=0;q<f.data.length;q++)m[4*
q]=255-m[4*q],m[4*q+1]=255-m[4*q+1],m[4*q+2]=255-m[4*q+2],m[4*q+3]=255;p.putImageData(f,c,d);f=a.getImageData(c,d+h,e,1);m=f.data;for(q=0;q<f.data.length;q++)m[4*q]=255-m[4*q],m[4*q+1]=255-m[4*q+1],m[4*q+2]=255-m[4*q+2],m[4*q+3]=255;p.putImageData(f,c,d+h);f=a.getImageData(c,d,1,h);m=f.data;for(q=0;q<h;q++)m[4*q]=255-m[4*q],m[4*q+1]=255-m[4*q+1],m[4*q+2]=255-m[4*q+2],m[4*q+3]=255;p.putImageData(f,c,d);f=a.getImageData(c+e,d,1,h);m=f.data;for(q=0;q<h;q++)m[4*q]=255-m[4*q],m[4*q+1]=255-m[4*q+1],m[4*
q+2]=255-m[4*q+2],m[4*q+3]=255;p.putImageData(f,c+e,d)}void 0!==g&&0<g&&(a=p.globalAlpha,p.globalAlpha=g,p.fillStyle=l?l:b,p.fillRect(c+1,d+1,e-1,h-1),p.globalAlpha=a)};b.set_font=function(a,b){var c=a.canvas.getContext("2d"),d=a.wid_canvas.getContext("2d");if(a.font&&a.font.width===b)c.font=a.font.font,d.font=a.font.font;else{var e=1;do{e+=1;c.font=e+"px "+a.font_family;d.font=e+"px "+a.font_family;var h=c.measureText("M");a.text_w=h.width;a.text_h=e}while(a.text_w<b);a.font={font:e+"px "+a.font_family,
width:b}}};b.textline=function(a,b,c,d,e,h){var g=a.active_canvas.getContext("2d");h||(h={});h.color||(h.color=a.fg);h.width||(h.width=1);k(g,b,c,d,e,h,h.color,h.width)};b.tics=function(a,b,c,d){var e=1,h=a;if(b===a)return{dtic:1,dtic1:a};e=Math.abs(b-a)/c;c=Math.max(e,1E-36);c=Math.log(c)/Math.log(10);0>c?(c=Math.ceil(c),c-=1):c=Math.floor(c);e*=Math.pow(10,-c);c=Math.pow(10,c);h=e*c;d&&5<=h&&5140800>=h?(d=17.5>h?5:37.5>h?15:270>h?60:1050>h?300:2250>h?900:7200>h?3600:16200>h?10800:32400>h?21600:
129600>h?43200:518400>h?86400:604800,e=Math.round(h/d)*d):e=1.75>e?c:2.25>e?2*c:3.5>e?2.5*c:7>e?5*c:10*c;0===e&&(e=1);b>=a?(d=Math.floor(0<=a?a/e+0.995:a/e-0.005),h=d*e):(d=Math.floor(0<=a?a/e+0.005:a/e-0.995),h=d*e,e*=-1);h+e===h&&(e=b-a);return{dtic:e,dtic1:h}};b.drawaxis=function(a,c,d,e,g,h,f){var l=b.origin(c.origin,1,c.stk[c.level]),p=0,n=0,m=0,q=0,t=0,k=0;g=void 0===g?30:g;h=void 0===h?30:h;f.exactbox?(p=Math.floor(l.x1),n=Math.floor(l.y1),m=Math.floor(l.x2),q=Math.floor(l.y2),t=m-p,k=q-n):
(p=Math.max(Math.floor(l.x1)-2,0),n=Math.max(Math.floor(l.y1)-2,0),m=Math.min(Math.floor(l.x2)+2,c.width),q=Math.min(Math.floor(l.y2)+2,c.height),t=m-p-4,k=q-n-4);var r=c.active_canvas.getContext("2d");f.fillStyle?Array.isArray(f.fillStyle)?r.fillStyle=b.linear_gradient(c,0,0,0,q-n,f.fillStyle):r.fillStyle=f.fillStyle:r.fillStyle=c.bg;r.fillRect(p,n,m-p,q-n);f.noaxisbox||(b.textline(c,p,n,m,n),b.textline(c,m,n,m,q),b.textline(c,m,q,p,q),b.textline(c,p,q,p,n));var I={dtic:0,dtic1:0},r={dtic:0,dtic1:0};
0>d?(I.dtic1=l.xmin,I.dtic=(l.xmin-l.xmax)/d):I=b.tics(l.xmin,l.xmax,d,f.xtimecode);var z=1;f.xmult?z=f.xmult:f.xtimecode||(z=b.mult(l.xmin,l.xmax));if(a.x_cut_press_on||a.y_cut_press_on)a=l.ymax,l.ymax=l.ymin,l.ymin=a;0>e?(r.dtic1=l.ymin,r.dtic=(l.ymin-l.ymax)/e):r=b.tics(l.ymin,l.ymax,e,f.ytimecode);a=1;f.ymult?a=f.ymult:f.ytimecode||(a=b.mult(l.ymin,l.ymax));d=!f.noxtlab;e=!f.noytlab;var y=Math.max(0,p-4*c.text_w),N=0,N=f.ontop?Math.min(c.height,Math.floor(q+1.5*c.text_h)):Math.max(c.text_h,Math.floor(n-
0.5*c.text_h)),B,C;0<N&&(f.noyplab||(C=f.ylabel instanceof Function?f.ylabel(h,a):void 0!==f.ylabel?f.ylabel:x.label(h,a)),f.noxplab||(B=f.xlabel instanceof Function?f.ylabel(g,z):void 0!==f.xlabel?f.xlabel:x.label(g,z)));B&&C?b.text(c,y,N,C+" vs "+B):B?b.text(c,y,N,B):C&&b.text(c,y,N,C);g=5.5*c.text_w;h=0;h=f.ontop?f.inside?n+1*c.text_h:n-0.2*c.text_h:f.inside?q-0.5*c.text_h:q+1*c.text_h+2;t=l.xmin!==l.xmax?t/(l.xmax-l.xmin):t/1;z=0!==z?1/z:1;B=Math.min(12,Math.round(t*I.dtic)/c.text_w);C=1;var A=
"";if(d)if(f.xtimecode)A=x.sec2tod(I.dtic1),C=A.length*c.text_w<(m-p)/2;else for(var w,N=I.dtic1;N<=l.xmax;N+=I.dtic){A=b.format_f(N*z,B,B/2);if(A===w){C=0;break}w=A}0===I.dtic&&(I.dtic=l.xmax-I.dtic1+1);y=0;A="";for(N=I.dtic1;N<=l.xmax;N+=I.dtic)if(w=p+Math.round(t*(N-l.xmin))+2,!(w<p)&&(f.grid&&"y"!==f.grid?(f.gridStyle||(f.gridStyle=b.LEGACY_RENDER?{mode:"dashed",on:1,off:3}:{color:c.xwms,mode:"dashed",on:1,off:3}),b.textline(c,w,q,w,n,f.gridStyle)):(b.textline(c,w,q-2,w,q+2),b.textline(c,w,n-
2,w,n+2)),d))if(C){if(A=null,f.xtimecode?w>y&&(A=x.sec2tod(N,!0),y=w+c.text_w*(A.length+1)):(A=b.format_f(N*z,B,B/2),A=W(A,!0)),A){var K=Math.round(A.length/2)*c.text_w;f.inside&&(w=Math.max(p+K,w),w=Math.min(m-K,w));0<=w-K&&b.text(c,w-K,h,A)}}else N===I.dtic1&&(f.xtimecode?(A=x.sec2tod(N,!0),f.inside&&(w=Math.floor(Math.max(p+g,w))),b.text(c,w-g,h,A+" +\u0394 "+x.sec2tod(I.dtic))):(A=(I.dtic1*z).toString(),f.inside&&(w=Math.floor(Math.max(p+g,w))),b.text(c,w-g,h,A+" +\u0394 "+I.dtic*z)));g=f.yonright?
f.inside?Math.min(m-6*c.text_w,c.width-5*c.text_w):Math.min(m+c.text_w,c.width-5*c.text_w):f.inside?Math.max(0,p+c.text_w):Math.max(0,Math.floor(p-(c.l-0.5)*c.text_w));h=0.4*c.text_h;t=l.ymin!==l.ymax?-k/(l.ymax-l.ymin):-k/1;z=0!==a?1/a:1;k=l.ymax>=l.ymin?function(a){return a<=l.ymax}:function(a){return a>=l.ymax};for(a=r.dtic1;k(a);a+=r.dtic)w=q+Math.round(t*(a-l.ymin))-2,w>q||(f.grid&&"x"!==f.grid?(f.gridStyle||(f.gridStyle={mode:"dashed",on:1,off:3}),b.textline(c,p,w,m,w,f.gridStyle)):(b.textline(c,
p-2,w,p+2,w),b.textline(c,m-2,w,m+2,w)),!e||f.inside&&(w<n+c.text_h||w>q-2*c.text_h)||(f.ytimecode?(I=x.sec2tod(a),d=w+h-c.text_h,y=I.indexOf("::"),-1!==y&&(d>n&&d<q&&b.text(c,g,d,I.substring(0,y)),y+=1),b.text(c,g,Math.min(q,w+h),I.substring(y+1,y+6)),d=w+h+c.text_h,d>n&&d<q&&"00"!==I.substring(y+7,y+9)&&(I+=".00",b.text(c,g,d,I.substring(y+7,y+12)))):(I=b.format_f(a*z,12,6),I=W(I,f.inside),b.text(c,g,Math.min(q,w+h),I))))};b.inrect=function(a,b,c,d,e,h){return a>=c&&a<=c+e&&b>=d&&b<=d+h};var E=
{GBorder:3,sidelab:0,toplab:1,n_show:0};b.menu=function(a,e){var f=1.5*a.text_h;E.n_show=e.items.length;if(e){if(!a.widget){e.x=a.xpos;e.y=a.ypos;e.val=0;e.h=2*E.GBorder+f*E.n_show+E.toplab*(f+E.GBorder)-1;e.y=e.y-((E.toplab+Math.max(1,e.val)-0.5)*f+(1+E.toplab)*E.GBorder)+1;for(var s=e.title.length,v=0,h=0;h<e.items.length;h++){var n=e.items[h],s=Math.max(s,n.text.length);"checkbox"===n.style&&(s+=2);"separator"===n.style&&(s+=2);n.checked&&"checkbox"!==n.style&&(v=f*h)}e.queue=[];for(f=0;f<E.n_show;f++)e.queue.push(f);
e.y-=v;s=(s+2)*a.text_w;e.w=2*E.GBorder+Math.abs(E.sidelab)+s-1;e.x-=e.w/2;a.menu=e;a.widget={type:"MENU",callback:function(h){var f=e,s=f.queue[0],m=f.queue[E.n_show-1];if(void 0===h)c(a,f);else if("mousemove"===h.type){void 0!==f.drag_x&&void 0!==f.drag_y&&2<Math.abs(a.xpos-f.drag_x)&&2<Math.abs(a.ypos-f.drag_y)&&(f.x+=a.xpos-f.drag_x,f.y+=a.ypos-f.drag_y,f.drag_x=a.xpos,f.drag_y=a.ypos);var q=f.x+E.GBorder+Math.max(0,E.sidelab),t=f.w-2*E.GBorder-Math.abs(E.sidelab),n=1.5*a.text_h,D=f.y+E.GBorder+
E.toplab*(n+E.GBorder);for(h=s;h<=m;h++){var s=D+n*h,v=f.items[h];v.selected=!1;b.inrect(a.xpos,a.ypos,q,s,t,n)&&(v.selected=!0)}c(a,f)}else if("mouseup"===h.type)1===h.which?void 0!==f.drag_x&&void 0!==f.drag_y?(f.drag_x=void 0,f.drag_y=void 0):d(a,f):3===h.which&&g(a,f);else if("mousedown"===h.type)h.preventDefault(),1===h.which&&a.xpos>f.x&&a.xpos<f.x+f.w&&a.ypos>f.y&&a.ypos<f.y+1.5*a.text_h&&(f.drag_x=a.xpos,f.drag_y=a.ypos);else if("keydown"===h.type&&a.menu)if(f=a.menu,h.preventDefault(),h=
Q.getKeyCode(h),13===h)d(a,f);else if(38===h){for(h=s;h<m;h++)if(v=f.items[h],v.selected){v.selected=!1;void 0!==f.items[h-1]&&(f.items[h-1].selected=!0);break}else h===s&&0!==s?(f.queue.pop(),f.queue.unshift(s-1),c(a,f),f.items[m-1].selected=!0):0===s&&!0===f.items[s].selected&&(c(a,f),f.items[0].selected=!0);c(a,f)}else if(40===h){for(h=s;h<m;h++)if(v=f.items[h],v.selected){v.selected=!1;void 0!==f.items[h+1]&&(f.items[h+1].selected=!0);break}else h===m-1&&(s=m+1,m+1===f.items.length&&(s=0),f.queue.shift(),
f.queue.push(s),f.items[m].selected=!1,f.items[s].selected=!0,c(a,f));c(a,f)}else if(48<=h&&57>=h||65<=h&&90>=h){m=String.fromCharCode(h).toUpperCase();f.keypresses=void 0===f.keypresses?m:f.keypresses+m;for(h=m=0;h<f.items.length;h++)v=f.items[h],v.selected=!1,v.text&&0===v.text.toUpperCase().indexOf(f.keypresses)&&(0===m&&(v.selected=!0),m++);0===m?(f.keypresses=void 0,c(a,f)):1===m?d(a,f):c(a,f)}}}}c(a,e)}};b.widgetbox=function(a,c,d,e,f,h,g,l,n,k){b.shadowbox(a,c,d,e,f,1,2,"",0.75);k&&(f=k.length,
f=Math.min(f,e/a.text_w),f=Math.max(f,1),c+=(e-f*a.text_w)/2,d+=3,b.text(a,c,d+(g-d+0.7*a.text_h)/2,k,a.xwfg));0<l&&0<n&&(d=a.active_canvas.getContext("2d"),b.LEGACY_RENDER?(d.fillStyle=a.bg,d.fillRect(h,g,l,n)):(d.save(),d.globalAlpha=0.1,d.fillStyle=a.bg,d.fillRect(h,g,l,n),d.restore()))};b.text=function(a,b,c,d,e){var h=a.active_canvas.getContext("2d");b=Math.max(0,b);c=Math.max(0,c);if(0>b||0>c)throw"On No!";h.textBaseline="bottom";h.textAlign="left";h.font=a.font.font;h.fillStyle=void 0===e?
a.fg:e;h.fillText(d,b,c)};b.getcolor=function(a,b,c){for(a=0;6>a&&0===b[a+1].pos;a++);for(;c>b[a].pos&&6>a;)a++;if(0===a||c>=b[a].pos)return z(y(b[a].red),y(b[a].green),y(b[a].blue));c=y((c-b[a-1].pos)/(b[a].pos-b[a-1].pos)*100);var d=255-c;return z(b[a].red/100*c+b[a-1].red/100*d,b[a].green/100*c+b[a-1].green/100*d,b[a].blue/100*c+b[a-1].blue/100*d)};b.redraw_warpbox=function(a){a.warpbox&&(a._animationFrameHandle&&cancelAnimFrame(a._animationFrameHandle),a._animationFrameHandle=requestAnimFrame(function(){L(a)}))};
b.format_g=function(a,c,d,e){Math.min(c,d+7);c=Math.abs(a).toString();var f=c.indexOf(".");-1===f&&(c+=".",f=c.length);e=0;var h=c.indexOf("e");-1!==h&&(e=parseInt(c.slice(h+1,c.length),10),c=c.slice(0,h));for(var h=Math.min(d-(c.length-f)+1,d),g=0;g<h;g++)c+="0";if(0!==a)if(1>Math.abs(a))if("0."===c.slice(0,2))for(g=2;g<c.length;g++)if("0"===c[g])e-=1;else{c="0."+c.slice(g,g+d);break}else c=c.slice(0,d+2);else f>d?(e=Math.max(0,f-1),c=c[0]+"."+c.slice(1,d+1)):c=c.slice(0,d+2);0===e?c+="    ":(d=
b.pad(Math.abs(e).toString(),2,"0"),c=0>e?c+"E-"+d:c+"E+"+d);return 0>a?"-"+c:" "+c};b.format_f=function(a,c,d){d=Math.max(Math.min(d,20),0);a=a.toFixed(d).toString();return a=b.pad(a,c+d," ")};b.pad=function(a,b,c){for(;a.length<b;)a=c+a;return a};b.legacy_shadowbox=function(a,c,d,e,f,h,g,l){for(var n=l.length,k=0,m=0,k=0,m=[],q=0;11>q;q++)m[q]={x:0,y:0};q=!(1===g||-1===g);0!==g&&0<b.GBorder&&(k=x.trunc(Math.min(e,f)/3),k=Math.max(1,Math.min(k,b.GBorder)));if(0<k){m[0].x=m[1].x=c;m[8].x=m[9].x=c+
e;m[1].y=m[8].y=d;m[0].y=m[9].y=d+f;switch(h){case b.L_ArrowLeft:m[0].y=m[1].y=d+x.trunc(f/2);c+=2;--e;break;case b.L_ArrowRight:m[8].y=m[9].y=d+x.trunc(f/2);--c;--e;break;case b.L_ArrowUp:m[1].x=m[8].x=c+x.trunc(e/2);d+=2;--f;break;case b.L_ArrowDown:m[0].x=m[9].x=c+x.trunc(e/2),--d,--f}m[2]=m[8];m[10]=m[0];c+=k;d+=k;e-=2*k;f-=2*k}m[4].x=m[5].x=c;m[3].x=m[6].x=c+e;m[3].y=m[4].y=d;m[5].y=m[6].y=d+f;switch(h){case b.L_ArrowLeft:m[4].y=m[5].y=d+x.trunc(f/2);break;case b.L_ArrowRight:m[3].y=m[6].y=d+
x.trunc(f/2);break;case b.L_ArrowUp:m[3].x=m[4].x=c+x.trunc(e/2);break;case b.L_ArrowDown:m[5].x=m[6].x=c+x.trunc(e/2)}m[7]=m[3];h=a.active_canvas.getContext("2d");0<k&&(h.fillStyle=0<g?a.xwts:a.xwbs,r(h,m.slice(0,7)),h.fillStyle=0>g?a.xwts:a.xwbs,r(h,m.slice(5,11)));q&&(h.fillStyle=a.xwbg,r(h,m.slice(3,8)));h.fillStyle=a.xwfg;h.textBaseline="alphabetic";q&&0<n&&(n=Math.min(n,x.trunc(e/a.text_w)),n=Math.max(n,1),k=c+x.trunc((e-n*a.text_w)/2),m=d+x.trunc((f+0.7*a.text_h)/2),h.fillText(l,k,m))};b.sigplot_shadowbox=
function(a,c,d,e,f,h,g,l,n){var k=a.active_canvas.getContext("2d"),m=l.length,q=0>g?a.xwts:a.xwbs;n=n||1;for(var t=[],P=0;11>P;P++)t[P]={x:0,y:0};switch(h){case b.L_ArrowLeft:case b.L_ArrowRight:case b.L_ArrowUp:case b.L_ArrowDown:t=b.chevron(h,c,d,e,f);k.fillStyle=0<g?a.xwts:a.xwbs;r(k,t.slice(0,6));break;default:b.draw_round_box(a,q,c,d,e,f,n,a.xwbg,5,a.xwbs)}k.fillStyle=a.xwfg;k.textBaseline="alphabetic";1!==g&&-1!==g&&0<m&&(m=Math.min(m,x.trunc(e/a.text_w)),m=Math.max(m,1),c+=x.trunc((e-m*a.text_w)/
2),a=d+x.trunc((f+0.7*a.text_h)/2),k.fillText(l,c,a))};b.shadowbox=b.LEGACY_RENDER?b.legacy_shadowbox:b.sigplot_shadowbox;b.chevron=function(a,c,d,e,f,h){var g=Math.min(e,f);h||(h=0.25*g);for(var l=[],n=0;6>n;n++)l[n]={x:0,y:0};var n=x.trunc((e-g)/2+g/4-h/2.828),k=x.trunc((f-g)/2+g/4-h/2.828);switch(a){case b.L_ArrowLeft:l[0].x=c+n;l[0].y=d+x.trunc(g/2);l[1].x=c+n+x.trunc(g/2);l[1].y=d;l[2].x=c+n+x.trunc(g/2+h/1.414);l[2].y=d+x.trunc(h/1.414);l[3].x=c+n+x.trunc(2*h/1.414);l[3].y=d+x.trunc(g/2);l[4].x=
c+n+x.trunc(g/2+h/1.414);l[4].y=d+f-x.trunc(h/1.414);l[5].x=c+n+x.trunc(g/2);l[5].y=d+g;break;case b.L_ArrowRight:l[0].x=c+e-n;l[0].y=d+x.trunc(g/2);l[1].x=c+e-n-x.trunc(g/2);l[1].y=d;l[2].x=c+e-n-x.trunc(g/2+h/1.414);l[2].y=d+x.trunc(h/1.414);l[3].x=c+e-n-x.trunc(2*h/1.414);l[3].y=d+x.trunc(g/2);l[4].x=c+e-n-x.trunc(g/2+h/1.414);l[4].y=d+f-x.trunc(h/1.414);l[5].x=c+e-n-x.trunc(g/2);l[5].y=d+g;break;case b.L_ArrowUp:l[0].x=c+x.trunc(g/2);l[0].y=d+k;l[1].x=c;l[1].y=d+k+x.trunc(g/2);l[2].x=c+x.trunc(h/
1.414);l[2].y=d+k+x.trunc(g/2+h/1.414);l[3].x=c+x.trunc(g/2);l[3].y=d+k+x.trunc(2*h/1.414);l[4].x=c+e-x.trunc(h/1.414);l[4].y=d+k+x.trunc(g/2+h/1.414);l[5].x=c+g;l[5].y=d+k+x.trunc(g/2);break;case b.L_ArrowDown:l[0].x=c+x.trunc(g/2),l[0].y=d+f-k,l[1].x=c,l[1].y=d+f-k-x.trunc(g/2),l[2].x=c+x.trunc(h/1.414),l[2].y=d+f-k-x.trunc(g/2+h/1.414),l[3].x=c+x.trunc(g/2),l[3].y=d+f-k-x.trunc(2*h/1.414),l[4].x=c+e-x.trunc(h/1.414),l[4].y=d+f-k-x.trunc(g/2+h/1.414),l[5].x=c+g,l[5].y=d+f-k-x.trunc(g/2)}return l};
b.ifevent=function(a,b){a.button_press=0;a.button_release=0;a.state_mask=0;var c=b.target.getBoundingClientRect(),d=void 0===b.offsetX?b.pageX-c.left-window.scrollX:b.offsetX,c=void 0===b.offsetX?b.pageY-c.top-window.scrollY:b.offsetY;switch(b.type){case "mousedown":a.xpos=K(d,0,a.width);a.ypos=K(c,0,a.height);switch(b.which){case 1:a.button_press=1;break;case 2:a.button_press=2;break;case 3:a.button_press=3;break;case 4:a.button_press=4;break;case 5:a.button_press=5}break;case "mouseup":switch(a.xpos=
K(d,0,a.width),a.ypos=K(c,0,a.height),b.which){case 1:a.button_release=1;break;case 2:a.button_release=2;break;case 3:a.button_release=3;break;case 4:a.button_release=4;break;case 5:a.button_release=5}}};b.scroll_real2pix=function(a){if(0===a.range)return{s1:a.a1,sw:a.a2-a.a1};var b,c;b=(a.a2-a.a1)/a.trange;c=a.a1+Math.floor(0.5+(a.smin-a.tmin)*b);b=c+Math.floor(0.5+a.srange*b);c=c>a.a2-a.swmin?a.a2-a.swmin:Math.max(c,a.a1);b=b<a.a1+a.swmin?a.a1+a.swmin:Math.min(b,a.a2);return{s1:c,sw:Math.max(b-
c,a.swmin)}};b.redrawScrollbar=function(a,c,d){var e,g,h,f,l,n,k,m,q=c.active_canvas.getContext("2d");g=b.scroll_real2pix(a);k=g.s1;m=g.sw;n=k;g=a.x;h=a.y;f=a.w;l=a.h;a.origin&1?(e=h+l/2,a.origin&2&&(n=f-n-m),d===b.XW_DRAW&&(d=a.arrow,b.shadowbox(c,g,h,d,l-1,b.L_ArrowLeft,2,"",0),b.shadowbox(c,g+f-d,h,d-1,l,b.L_ArrowRight,2,"",0)),b.LEGACY_RENDER?(b.draw_line(c,c.fg,g+a.a1,e,g+a.a2,e),b.shadowbox(c,g+n,h,m+1,l,1,2,"",0)):(d=q.createLinearGradient(g+a.a1,0,g+a.a2,0),d.addColorStop(0,c.xwbs),d.addColorStop(0.5,
c.xwts),d.addColorStop(1,c.xwbs),b.draw_line(c,d,g+a.a1,e,g+a.a2,e,1),d=q.createLinearGradient(0,h,0,h+l),d.addColorStop(0.1,c.xwts),d.addColorStop(0.75,c.xwbs),b.draw_round_box(c,c.xwbg,g+n,h,m+1,l,1,d,8,c.xwbs))):(e=g+x.trunc(f/2),2>=a.origin&&(n=l-n-m),d===b.XW_DRAW&&(d=a.arrow,b.shadowbox(c,g,h,f-1,d,b.L_ArrowUp,2,"",0),b.shadowbox(c,g,h+l-d,f-1,d,b.L_ArrowDown,2,"",0)),b.LEGACY_RENDER?(b.draw_line(c,c.fg,e,h+a.a1,e,h+a.a2),b.shadowbox(c,g,h+n,f,m+1,1,2,"",0)):(d=q.createLinearGradient(0,h+a.a1,
0,h+a.a2),d.addColorStop(0,c.xwbs),d.addColorStop(0.5,c.xwts),d.addColorStop(1,c.xwbs),b.draw_line(c,d,e,h+a.a1,e,h+a.a2,1),d=q.createLinearGradient(g,0,g+f,0),d.addColorStop(0.1,c.xwts),d.addColorStop(0.75,c.xwbs),b.draw_round_box(c,c.xwbg,g-1,h+n,f,m+1,1,d,8,c.xwbs)));a.s1=k;a.sw=m};b.real_to_pixel=function(a,c,d,e){a=b.origin(a.origin,4,a.stk[a.level]);if(0===a.xscl||0===a.yscl)return{x:0,y:0};var g=a.x1,f=a.y1,n=a.xmin,l=1/a.xscl,k=a.ymin,r=1/a.yscl,m=!1,q=!1;null!==c&&(m=c>a.xmax||c<a.xmin,e&&
(c=Math.min(c,a.xmax),c=Math.max(c,a.xmin)),c=Math.round((c-n)*l)+g);null!==d&&(q=d>a.ymin||d<a.ymax,e&&(d=Math.min(d,a.ymin),d=Math.max(d,a.ymax)),d=Math.round((d-k)*r)+f);c=Math.round(c);d=Math.round(d);return{x:c,y:d,clipped_x:m,clipped_y:q,clipped:m||q}};b.pixel_to_real=function(a,c,b){c=Math.min(a.r,Math.max(a.l,c));b=Math.min(a.b,Math.max(a.t,b));var d=a.level;return{x:2!==a.origin&&3!==a.origin?a.stk[d].xmin+(c-a.stk[d].x1)*a.stk[d].xscl:a.stk[d].xmin+(a.stk[d].x2-c)*a.stk[d].xscl,y:2<a.origin?
a.stk[d].ymin+(b-a.stk[d].y1)*a.stk[d].yscl:a.stk[d].ymin+(a.stk[d].y2-b)*a.stk[d].yscl}};b.colormap=function(a,c,b){a.pixel=Array(b);for(var d=Array(b),e=100/(Math.max(2,b)-1),g=0;g<b;g++)d[g]=e*g+0.5;for(e=0;6>e&&0===c[e+1].pos;e++);for(g=0;g<b;g++){a.pixel[g]=0;for(var f=d[g];6>e&&Math.floor(f)>c[e].pos;)e++;if(0===e||f>=c[e].pos)a.pixel[g]={red:y(c[e].red),green:y(c[e].green),blue:y(c[e].blue)};else{var f=y((f-c[e-1].pos)/(c[e].pos-c[e-1].pos)*100),l=255-f;a.pixel[g]={red:c[e].red/100*f+c[e-1].red/
100*l,green:c[e].green/100*f+c[e-1].green/100*l,blue:c[e].blue/100*f+c[e-1].blue/100*l}}}};b.colorbar=function(a,c,d,e,g){for(var f=1;f<g;f++)b.draw_line(a,Math.floor(a.pixel.length*(f-1)/g),c,d+g-f,c+e,d+g-f);b.draw_box(a,a.fg,c+0.5,d,e,g)};var T="undefined"===typeof Uint8ClampedArray?O:aa;b.shift_image_rows=function(a,c,b){a=new Uint32Array(c);0<b?(b*=c.width,a.set(a.subarray(0,a.length-b),b)):0>b&&(b=Math.abs(b)*c.width,a.set(a.subarray(b)));return c};b.update_image_row=function(a,c,b,d,e,g,f){d=
new Uint32Array(c,d*c.width*4,c.width);var l=1;g!==e&&(l=a.pixel.length/Math.abs(g-e));g=Math.max(1,b.length/c.width);for(var n=0;n<c.width;n++){var k=Math.floor(n*g),m=b[k];if(1<g)if(1===f){for(var q=1;q<g;q++)m+=b[k+q];m/=g}else if(2===f)for(q=1;q<g;q++)m=Math.min(m,b[k+q]);else if(3===f)for(q=1;q<g;q++)m=Math.max(m,b[k+q]);else if(4===f)m=b[n];else if(5===f)for(q=1;q<g;q++)m=Math.max(Math.abs(m),Math.abs(b[k+q]));k=Math.floor((m-e)*l);k=Math.max(0,Math.min(a.pixel.length-1,k));(k=a.pixel[k])&&
(d[n]=-16777216|k.blue<<16|k.green<<8|k.red)}return d};b.create_image=function(a,c,d,e,g,f,n,l){a.active_canvas.getContext("2d");a.pixel&&0!==a.pixel.length||(x.log.warn("COLORMAP not initialized, defaulting to foreground"),b.colormap(a,x.Mc.colormap[1].colors,16));var k=1;n!==f&&(k=a.pixel.length/Math.abs(n-f));e=Math.ceil(e);g=Math.ceil(g);n=new ArrayBuffer(e*g*4);n.width=e;n.height=g;var r=Math.max(1,d/e),m=new Uint32Array(n);if(c)for(var q=0;q<m.length;q++){var t=(3===a.origin||4===a.origin?Math.floor(q/
e):g-Math.floor(q/e)-1)*d+Math.floor((1===a.origin||4===a.origin?Math.floor(q%e):e-Math.floor(q%e)-1)*r),P=c[t];if(1<r)if(1===l){for(var y=1;y<r;y++)P+=c[t+y];P/=r}else if(2===l)for(y=1;y<r;y++)P=Math.min(P,c[t+y]);else if(3===l)for(y=1;y<r;y++)P=Math.max(P,c[t+y]);else if(4===l)P=c[t];else if(5===l)for(y=1;y<r;y++)P=Math.max(Math.abs(P),Math.abs(c[t+y]));t=Math.floor((P-f)*k);t=Math.max(0,Math.min(a.pixel.length-1,t));(t=a.pixel[t])&&(m[q]=-16777216|t.blue<<16|t.green<<8|t.red)}return n};b.put_image=
function(a,c,d,e,g,f,n,l,k,r,m){k=a.active_canvas.getContext("2d");a.pixel&&0!==a.pixel.length||(x.log.warn("COLORMAP not initialized, defaulting to foreground"),b.colormap(a,x.Mc.colormap[1].colors,16));d=Math.floor(0<g?d*g:-g);e=Math.floor(e*f);f=new ArrayBuffer(d*e*4);f.width=d;f.height=e;g=new Uint32Array(f);for(var q=0;q<g.length;q++){var t=Math.max(0,c[q]),t=Math.min(a.pixel.length-1,t);(t=a.pixel[t])&&(g[q]=-16777216|t.blue<<16|t.green<<8|t.red)}T(a,k,f,r,m,n,l,d,e);return f};b.draw_image=
function(a,c,d,e,g,f,n,l){var k=Math.max(d,a.stk[a.level].xmin),r=Math.min(g,a.stk[a.level].xmax),m=Math.max(e,a.stk[a.level].ymin),q=Math.min(f,a.stk[a.level].ymax);if(!(1>=c.width||0===Math.abs(g-d)||1>=c.height||0===Math.abs(f-e))){g=c.width/(g-d);var t=c.height/(f-e),k=Math.floor(k*g)/g,r=Math.ceil(r*g)/g,m=Math.floor(m*t)/t,q=Math.ceil(q*t)/t,P,y,z,x,w,A;1===a.origin?(z=Math.max(0,Math.floor((f-q)*t)),A=Math.min(c.height-z,Math.floor((q-m)*t)),x=Math.max(0,Math.floor((k-d)*g)),w=Math.min(c.width-
x,Math.floor((r-k)*g)),P=b.real_to_pixel(a,k,q),y=b.real_to_pixel(a,r,m)):2===a.origin?(z=Math.max(0,Math.floor((f-q)*t)),A=Math.min(c.height-z,Math.floor((q-m)*t)),x=Math.max(0,Math.ceil((k-d)*g)),w=Math.min(c.width-x,Math.floor((r-k)*g)),P=b.real_to_pixel(a,r,q),y=b.real_to_pixel(a,k,m)):3===a.origin?(z=Math.max(0,Math.ceil((m-e)*t)),A=Math.min(c.height-z,Math.floor((q-m)*t)),x=Math.max(0,Math.ceil((k-d)*g)),w=Math.min(c.width-x,Math.floor((r-k)*g)),P=b.real_to_pixel(a,r,m),y=b.real_to_pixel(a,
k,q)):4===a.origin&&(z=Math.max(0,Math.ceil((m-e)*t)),A=Math.min(c.height-z,Math.floor((q-m)*t)),x=Math.max(0,Math.floor((k-d)*g)),w=Math.min(c.width-x,Math.floor((r-k)*g)),P=b.real_to_pixel(a,k,m),y=b.real_to_pixel(a,r,q));d=y.x-P.x;y=y.y-P.y;w=Math.max(1,w);A=Math.max(1,A);"number"===typeof l&&(l=(a.r-a.l)/w<=l);e=a.active_canvas.getContext("2d");e.save();e.beginPath();e.rect(a.l,a.t,a.r-a.l,a.b-a.t);e.clip();T(a,e,c,n,l,P.x,P.y,d,y,x,z,w,A);e.restore()}};B.exports=b})()},{"./CanvasInput":1,"./common":3,
"./m":4,tinycolor2:13}],6:[function(C,B,O){B.exports={AccordionPlugin:C("./sigplot.accordion"),AnnotationPlugin:C("./sigplot.annotations"),BoxesPlugin:C("./sigplot.boxes"),PlaybackControlsPlugin:C("./sigplot.playback"),SliderPlugin:C("./sigplot.slider")}},{"./sigplot.accordion":7,"./sigplot.annotations":8,"./sigplot.boxes":9,"./sigplot.playback":10,"./sigplot.slider":11}],7:[function(C,B,O){(function(){C("./m");var b=C("./mx"),f=function(b){this.options=void 0!==b?b:{};void 0===this.options.display&&
(this.options.display=!0);void 0===this.options.center_line_style&&(this.options.center_line_style={});void 0===this.options.edge_line_style&&(this.options.edge_line_style={});void 0===this.options.fill_style&&(this.options.fill_style={});void 0===this.options.direction&&(this.options.direction="vertical");void 0===this.options.mode&&(this.options.mode="absolute");this.loc_2=this.loc_1=this.center_location=this.width=this.center=void 0;this.visible=!0};f.prototype={init:function(e){this.plot=e;var a=
this.plot._Mx,c=this;this.onmousemove=function(d){if(void 0!==c.center_location&&!c.options.prevent_drag)if(d.xpos<a.l||d.xpos>a.r)c.set_highlight(!1);else if(d.ypos>a.b||d.ypos<a.t)c.set_highlight(!1);else{var e=void 0!==c.options.center_line_style.lineWidth?c.options.center_line_style.lineWidth:1,f=void 0!==c.options.edge_line_style.lineWidth?c.options.edge_line_style.lineWidth:1;if(c.dragging||c.edge_dragging){c.dragging&&(e=b.pixel_to_real(a,d.xpos,d.ypos),"vertical"===c.options.direction?(c.center_location=
d.xpos,"absolute"===c.options.mode?c.center=e.x:"relative"===c.options.mode&&(c.center=(d.xpos-a.l)/(a.r-a.l))):"horizontal"===c.options.direction&&(c.center_location=d.ypos,"absolute"===c.options.mode?c.center=e.y:"relative"===c.options.mode&&(c.center=(d.ypos-a.t)/(a.b-a.t))));if(c.edge_dragging)if(e=b.pixel_to_real(a,d.xpos,d.ypos),"vertical"===c.options.direction?"absolute"===c.options.mode?c.width=2*Math.abs(c.center-e.x):"relative"===c.options.mode&&(c.width=2*Math.abs(c.center_location-d.xpos)/
(a.r-a.l)):"horizontal"===c.options.direction&&("absolute"===c.options.mode?c.width=2*Math.abs(c.center-e.y):"relative"===c.options.mode&&(c.width=2*Math.abs(c.center_location-d.ypos)/(a.b-a.t))),c.options.discrete_widths){for(var e=0,f=Math.abs(c.width-c.options.discrete_widths[0]),k=0,r=1;r<c.options.discrete_widths.length;r++)k=Math.abs(c.width-c.options.discrete_widths[r]),k<f&&(e=r,f=k);c.width=c.options.discrete_widths[e]}else c.options.min_width&&(c.width=Math.max(c.width,c.options.min_width)),
c.options.max_width&&(c.width=Math.min(c.width,c.options.max_width));c.plot&&c.plot.refresh();d.preventDefault()}else a.warpbox||("vertical"===c.options.direction?(Math.abs(c.center_location-d.xpos)<e+5?c.set_highlight(!0):c.set_highlight(!1),Math.abs(c.loc_1-d.xpos)<f+5||Math.abs(c.loc_2-d.xpos)<f+5?c.set_edge_highlight(!0):c.set_edge_highlight(!1)):"horizontal"===c.options.direction&&(Math.abs(c.center_location-d.ypos)<e+5?c.set_highlight(!0):c.set_highlight(!1),Math.abs(c.loc_1-d.ypos)<f+5||Math.abs(c.loc_2-
d.ypos)<f+5?c.set_edge_highlight(!0):c.set_edge_highlight(!1)))}};this.plot.addListener("mmove",this.onmousemove);this.onmousedown=function(b){if(void 0!==c.center_location&&!(b.xpos<a.l||b.xpos>a.r||b.ypos>a.b||b.ypos<a.t)){var e=void 0!==c.options.center_line_style.lineWidth?c.options.center_line_style.lineWidth:1,f=void 0!==c.options.edge_line_style.lineWidth?c.options.edge_line_style.lineWidth:1;"vertical"===c.options.direction?Math.abs(c.loc_1-b.xpos)<f+5||Math.abs(c.loc_2-b.xpos)<f+5?(c.edge_dragging=
!0,b.preventDefault()):Math.abs(c.center_location-b.xpos)<e+5&&(c.dragging=!0,b.preventDefault()):"horizontal"===c.options.direction&&(Math.abs(c.loc_1-b.ypos)<f+5||Math.abs(c.loc_2-b.ypos)<f+5?(c.edge_dragging=!0,b.preventDefault()):Math.abs(c.center_location-b.ypos)<e+5&&(c.dragging=!0,b.preventDefault()))}};this.plot.addListener("mdown",this.onmousedown);this.onmouseup=function(d){c.dragging=!1;c.edge_dragging=!1;d=document.createEvent("Event");d.initEvent("accordiontag",!0,!0);d.center=c.center;
d.width=c.width;b.dispatchEvent(a,d)};document.addEventListener("mouseup",this.onmouseup,!1)},addListener:function(e,a){b.addEventListener(this.plot._Mx,e,a,!1)},removeListener:function(e,a){b.removeEventListener(this.plot._Mx,e,a,!1)},set_highlight:function(b){b!==this.highlight&&(this.highlight=b,this.plot.redraw())},set_edge_highlight:function(b){b!==this.edge_highlight&&(this.edge_highlight=b,this.plot.redraw())},set_center:function(e){this.center=e;if(this.plot){e=this.plot._Mx;var a=document.createEvent("Event");
a.initEvent("accordiontag",!0,!0);a.center=this.center;a.width=this.width;b.dispatchEvent(e,a);this.plot.redraw()}},set_width:function(e){this.width=e;if(this.plot){e=this.plot._Mx;var a=document.createEvent("Event");a.initEvent("accordiontag",!0,!0);a.center=this.center;a.width=this.width;b.dispatchEvent(e,a);this.plot.redraw()}},get_center:function(){return this.center},get_width:function(){return this.width},refresh:function(e){if(this.plot&&this.visible&&this.options.display&&void 0!==this.center&&
void 0!==this.width){var a=this.plot._Mx,c=e.getContext("2d");c.clearRect(0,0,e.width,e.height);var d;"absolute"===this.options.mode?d=b.real_to_pixel(a,this.center,this.center):"relative"===this.options.mode&&("vertical"===this.options.direction?(d=a.stk[0].x1+(a.stk[0].x2-a.stk[0].x1)*this.center,d=b.real_to_pixel(a,b.pixel_to_real(a,d,d).x,b.pixel_to_real(a,d,d).y)):"horizontal"===this.options.direction&&(d=a.stk[0].y1+(a.stk[0].y2-a.stk[0].y1)*this.center,d=b.real_to_pixel(a,b.pixel_to_real(a,
d,d).x,b.pixel_to_real(a,d,d).y)));var g,f;"absolute"===this.options.mode?(g=b.real_to_pixel(a,this.center-this.width/2,this.center-this.width/2),f=b.real_to_pixel(a,this.center+this.width/2,this.center+this.width/2)):"relative"===this.options.mode&&(f=a.stk[0].x2-a.stk[0].x1,e=a.stk[0].y2-a.stk[0].y1,g={x:d.x-this.width*f/2,y:d.y-this.width*e/2},f={x:d.x+this.width*f/2,y:d.y+this.width*e/2});"vertical"===this.options.direction?(this.center_location=d.x,this.loc_1=Math.max(a.l,g.x),this.loc_2=Math.min(a.r,
f.x)):"horizontal"===this.options.direction&&(this.center_location=d.y,this.loc_1=Math.max(a.t,f.y),this.loc_2=Math.min(a.b,g.y));this.options.shade_area&&0<Math.abs(this.loc_2-this.loc_1)&&(g=c.globalAlpha,c.globalAlpha=void 0!==this.options.fill_style.opacity?this.options.fill_style.opacity:0.4,c.fillStyle=void 0!==this.options.fill_style.fillStyle?this.options.fill_style.fillStyle:a.hi,"vertical"===this.options.direction?c.fillRect(this.loc_1,a.t,this.loc_2-this.loc_1,a.b-a.t):"horizontal"===this.options.direction&&
c.fillRect(a.l,this.loc_1,a.r-a.l,this.loc_2-this.loc_1),c.globalAlpha=g);if(this.options.draw_edge_lines||this.edge_highlight||this.edge_dragging){c.lineWidth=void 0!==this.options.edge_line_style.lineWidth?this.options.edge_line_style.lineWidth:1;c.lineCap=void 0!==this.options.edge_line_style.lineCap?this.options.edge_line_style.lineCap:"square";c.strokeStyle=void 0!==this.options.edge_line_style.strokeStyle?this.options.edge_line_style.strokeStyle:a.fg;if(this.edge_dragging||this.edge_highlight)c.lineWidth=
Math.ceil(1.2*c.lineWidth);"vertical"===this.options.direction?(c.beginPath(),c.moveTo(this.loc_1+0.5,a.t),c.lineTo(this.loc_1+0.5,a.b),c.stroke(),c.beginPath(),c.moveTo(this.loc_2+0.5,a.t),c.lineTo(this.loc_2+0.5,a.b),c.stroke()):"horizontal"===this.options.direction&&(c.beginPath(),c.moveTo(a.l,this.loc_1+0.5),c.lineTo(a.r,this.loc_1+0.5),c.stroke(),c.beginPath(),c.moveTo(a.l,this.loc_2+0.5),c.lineTo(a.r,this.loc_2+0.5),c.stroke())}if(this.options.draw_center_line){c.lineWidth=void 0!==this.options.center_line_style.lineWidth?
this.options.center_line_style.lineWidth:1;c.lineCap=void 0!==this.options.center_line_style.lineCap?this.options.center_line_style.lineCap:"square";c.strokeStyle=void 0!==this.options.center_line_style.strokeStyle?this.options.center_line_style.strokeStyle:a.fg;if(this.dragging||this.highlight)c.lineWidth=Math.ceil(1.2*c.lineWidth);"vertical"===this.options.direction?(c.beginPath(),c.moveTo(this.center_location+0.5,a.t),c.lineTo(this.center_location+0.5,a.b),c.stroke()):"horizontal"===this.options.direction&&
(c.beginPath(),c.moveTo(a.l,this.center_location+0.5),c.lineTo(a.r,this.center_location+0.5),c.stroke())}}},set_visible:function(b){this.visible=b;this.plot.redraw()},set_mode:function(b){this.options.mode=b},dispose:function(){this.width=this.center_location=this.center=this.plot=void 0}};B.exports=f})()},{"./m":4,"./mx":5}],8:[function(C,B,O){(function(){C("./m");var b=C("./mx"),f=function(b){this.options=void 0===b?{}:b;void 0===this.options.display&&(this.options.display=!0);this.options.textBaseline=
this.options.textBaseline||"alphabetic";this.options.textAlign=this.options.textAlign||"left";this.annotations=[]};f.prototype={init:function(e){var a=this;this.plot=e;var c=this.plot._Mx;this.onmousemove=function(d){if(0!==a.annotations.length&&!a.options.prevent_hover)if(d.xpos<c.l||d.xpos>c.r)a.set_highlight(!1);else if(d.ypos>c.b||d.ypos<c.t)a.set_highlight(!1);else{for(var e=!1,f=0;f<a.annotations.length;f++){var k=a.annotations[f],r=void 0,w=void 0;k.absolute_placement&&(r=k.x,w=k.y);void 0!==
k.pxl_x&&(r=k.pxl_x);void 0!==k.pxl_y&&(w=k.pxl_y);var y=b.real_to_pixel(c,k.x,k.y);void 0===r&&(r=y.x);void 0===w&&(w=y.y);var y=r,z=w;k.value instanceof HTMLImageElement||k.value instanceof HTMLCanvasElement||k.value instanceof HTMLVideoElement?(y-=k.width/2,z-=k.height/2):z-=k.height;b.inrect(d.xpos,d.ypos,y,z,k.width,k.height)?k.highlight||(a.set_highlight(!0,[k],r,w),e=!0):(k.highlight&&(a.set_highlight(!1,[k]),e=!0),k.selected=void 0)}a.plot&&e&&a.plot.refresh()}};this.plot.addListener("mmove",
this.onmousemove);this.onmousedown=function(c){for(c=0;c<a.annotations.length;c++)a.annotations[c].highlight&&(a.annotations[c].selected=!0)};this.plot.addListener("mdown",this.onmousedown);this.onmouseup=function(c){for(var e=0;e<a.annotations.length;e++){if(a.annotations[e].selected&&(c=document.createEvent("Event"),c.initEvent("annotationclick",!0,!0),c.annotation=a.annotations[e],b.dispatchEvent(a.plot._Mx,c)&&a.annotations[e].onclick))a.annotations[e].onclick();a.annotations[e].selected=void 0}};
document.addEventListener("mouseup",this.onmouseup,!1)},set_highlight:function(e,a,c,d){a=a||this.annotations;for(var f=0;f<a.length;f++){var n=document.createEvent("Event");n.initEvent("annotationhighlight",!0,!0);n.annotation=a[f];n.state=e;n.x=c;n.y=d;b.dispatchEvent(this.plot._Mx,n)&&(a[f].highlight=e)}},menu:function(){var b=function(a){return function(){a.options.display=!a.options.display;a.plot.redraw()}}(this),a=function(a){return function(){a.annotations=[];a.plot.redraw()}}(this);return{text:"Annotations...",
menu:{title:"ANNOTATIONS",items:[{text:"Display",checked:this.options.display,style:"checkbox",handler:b},{text:"Clear All",handler:a}]}}},add_annotation:function(b){this.annotations.push(b);this.plot.redraw();return this.annotations.length},clear_annotations:function(){this.annotations=[];this.plot.redraw()},refresh:function(e){if(this.options.display){var a=this.plot._Mx,c=e.getContext("2d"),d=this;c.save();c.beginPath();c.rect(a.l,a.t,a.r-a.l,a.b-a.t);c.clip();b.onCanvas(a,e,function(){for(var e=
d.annotations.length-1;0<=e;e--){var f=d.annotations[e],k=void 0,r=void 0;f.absolute_placement&&(k=f.x,r=f.y);void 0!==f.pxl_x&&(k=f.pxl_x);void 0!==f.pxl_y&&(r=f.pxl_y);var w=b.real_to_pixel(a,f.x,f.y);void 0===k&&(k=w.x);void 0===r&&(r=w.y);b.inrect(k,r,a.l,a.t,a.r-a.l,a.b-a.t)&&(f.value instanceof HTMLImageElement||f.value instanceof HTMLCanvasElement||f.value instanceof HTMLVideoElement?(f.width=f.value.width,f.height=f.value.height,c.drawImage(f.value,k-f.width/2,r-f.height/2)):(c.font=f.font||
"bold italic 20px new century schoolbook",c.fillStyle=f.highlight?f.highlight_color||a.hi:f.color||a.fg,c.globalAlpha=1,f.width=c.measureText(f.value).width,f.height=c.measureText("M").width,c.textBaseline=f.textBaseline||d.options.textBaseline,c.textAlign=f.textAlign||d.options.textAlign,c.fillText(f.value,k,r)),f.highlight&&f.popup&&b.render_message_box(a,f.popup,k+5,r+5,f.popupTextColor))}});c.restore()}},dispose:function(){this.annotations=this.plot=void 0}};B.exports=f})()},{"./m":4,"./mx":5}],
9:[function(C,B,O){(function(){C("./m");var b=C("./mx"),f=function(b){this.options=void 0===b?{}:b;void 0===this.options.display&&(this.options.display=!0);this.boxes=[]};f.prototype={init:function(b){this.plot=b},menu:function(){var b=function(a){return function(){a.options.display=!a.options.display;a.plot.redraw()}}(this),a=function(a){return function(){a.boxes=[];a.plot.redraw()}}(this);return{text:"Boxes...",menu:{title:"BOXES",items:[{text:"Display",checked:this.options.display,style:"checkbox",
handler:b},{text:"Clear All",handler:a}]}}},add_box:function(b){this.boxes.push(b);this.plot.redraw();return this.boxes.length},clear_boxes:function(){this.boxes=[];this.plot.redraw()},refresh:function(e){if(this.options.display){var a=this.plot._Mx;e=e.getContext("2d");var c,d,f,n,k,r;e.save();e.beginPath();e.rect(a.l,a.t,a.r-a.l,a.b-a.t);e.clip();for(var w=0;w<this.boxes.length;w++){c=this.boxes[w];!0===c.absolute_placement?(d=c.x+a.l,f=c.y+a.t,n=c.w,k=c.h):(k=b.real_to_pixel(a,c.x,c.y),r=b.real_to_pixel(a,
c.x+c.w,c.y+c.h),d=k.x,f=k.y,n=r.x-k.x,k=k.y-r.y);e.strokeStyle=c.strokeStyle||a.fg;e.lineWidth=c.lineWidth||1;1===e.lineWidth%2&&(d+=0.5,f+=0.5);if(c.fillStyle||c.fill)e.globalAlpha=c.alpha||0.5,e.fillStyle=c.fillStyle||e.strokeStyle,e.fillRect(d,f,n,k),e.globalAlpha=1;e.strokeRect(d,f,n,k);c.text&&(e.save(),e.font=c.font||a.text_H+"px Courier New, monospace",e.globalAlpha=1,e.textAlign="end",e.fillStyle=e.strokeStyle,c.font&&(e.font=c.font),d-=a.text_w,f-=a.text_h/3,k=e.measureText(c.text).width,
d-k<a.l&&(d+=n),e.fillText(c.text,d,f),e.restore())}e.restore()}},dispose:function(){this.plot=void 0;this.boxes=[]}};B.exports=f})()},{"./m":4,"./mx":5}],10:[function(C,B,O){(function(){C("./m");var b=C("./mx"),f=C("./common"),e=function(a){this.options={display:!0,size:25,lineWidth:2,fillStyle:!1};f.update(this.options,a);this.state="paused";this.highlight=!1};e.prototype={init:function(a){this.plot=a;var b=this,d=this.plot._Mx;this.onmousemove=function(a){d.warpbox||(b.ismouseover(a.xpos,a.ypos)?
b.set_highlight(!0):b.set_highlight(!1))};this.plot.addListener("mmove",this.onmousemove);this.onmousedown=function(a){d.warpbox||b.ismouseover(a.xpos,a.ypos)&&a.preventDefault()};this.plot.addListener("mdown",this.onmousedown);this.onmouseclick=function(a){!d.warpbox&&b.ismouseover(a.xpos,a.ypos)&&(b.toggle(),a.preventDefault())};this.plot.addListener("mclick",this.onmouseclick)},set_highlight:function(a){a!==this.highlight&&(this.highlight=a,this.plot.redraw())},toggle:function(a){a||(a="paused"===
this.state?"playing":"paused");if(a!==this.state&&this.plot){var c=this.plot._Mx,d=document.createEvent("Event");d.initEvent("playbackevt",!0,!0);d.state=a;b.dispatchEvent(c,d)&&(this.state=a);this.plot.redraw()}},addListener:function(a,c){b.addEventListener(this.plot._Mx,a,c,!1)},removeListener:function(a,c){b.removeEventListener(this.plot._Mx,a,c,!1)},ismouseover:function(a,b){var d=this.position();return Math.pow(a-d.x,2)+Math.pow(b-d.y,2)<Math.pow(this.options.size/2,2)},position:function(){if(this.options.position)return this.options.position;
if(this.plot){var a=this.plot._Mx,b=this.options.size/2;return{x:a.l+b+this.options.lineWidth+1,y:a.t+b+this.options.lineWidth+1}}return{x:null,y:null}},refresh:function(a){var b,d,e;if(this.options.display){var f=this.plot._Mx,k=a.getContext("2d");k.lineWidth=this.options.lineWidth;var r=this.options.size/2;this.highlight&&(k.lineWidth+=2,r+=1);var w=this.position();k.beginPath();k.arc(w.x,w.y,r-k.lineWidth,0,2*Math.PI,!0);k.closePath();k.strokeStyle=this.options.strokeStyle||f.fg;k.stroke();this.options.fillStyle&&
(k.fillStyle=this.options.fillStyle,k.fill());if("paused"===this.state){var y;d=0.8*r+(w.x-r);a=1.45*r+(w.x-r);y=0.8*r+(w.x-r);e=0.56*r+(w.y-r);b=r+(w.y-r);r=1.45*r+(w.y-r);k.beginPath();k.moveTo(d,e);k.lineTo(a,b);k.lineTo(y,r);k.closePath();k.fillStyle=this.options.strokeStyle||f.fg;k.fill()}else k.lineCap="round",k.lineWidth=Math.floor(Math.min(1,this.options.size/8)),d=0.8*r+(w.x-r),a=0.8*r+(w.x-r),e=r/2+(w.y-r),b=1.5*r+(w.y-r),k.beginPath(),k.moveTo(d,e),k.lineTo(a,b),k.closePath(),k.stroke(),
d=r+r/5+(w.x-r),a=r+r/5+(w.x-r),e=r/2+(w.y-r),b=1.5*r+(w.y-r),k.beginPath(),k.moveTo(d,e),k.lineTo(a,b),k.closePath(),k.stroke();k.restore()}},dispose:function(){this.boxes=this.plot=void 0}};B.exports=e})()},{"./common":3,"./m":4,"./mx":5}],11:[function(C,B,O){(function(){C("./m");var b=C("./mx"),f=C("./common"),e=function(a){this.options={display:!0,style:{lineWidth:1,lineCap:"square"},direction:"vertical",name:"Slider",prevent_drag:!1,add_box:!1,persistent_style:!1,slider_ID:0};f.update(this.options,
a);this.paired_slider=this.location=this.position=void 0;this.name=this.options.name};e.prototype={init:function(a){this.plot=a;var c=a._Mx,d=this;this.onmousemove=function(a){if(void 0!==d.location&&!d.options.prevent_drag)if(a.xpos<c.l||a.xpos>c.r)d.set_highlight(!1);else if(a.ypos>c.b||a.ypos<c.t)d.set_highlight(!1);else{var e=d.options.style.lineWidth;d.dragging?(e=b.pixel_to_real(c,a.xpos,a.ypos),"vertical"===d.options.direction?(d.location=a.xpos,d.position=e.x):"horizontal"===d.options.direction?
(d.location=a.ypos,d.position=e.y):"both"===d.options.direction&&(d.location.x=a.xpos,d.position.x=e.x,d.location.y=a.ypos,d.position.y=e.y),d.plot.redraw(),a.preventDefault()):c.warpbox||("vertical"===d.options.direction?Math.abs(d.location-a.xpos)<e+5?d.set_highlight(!0):d.set_highlight(!1):"horizontal"===d.options.direction?Math.abs(d.location-a.ypos)<e+5?d.set_highlight(!0):d.set_highlight(!1):"both"===d.options.direction&&(Math.abs(d.location.x-a.xpos)<e+5&&Math.abs(d.location.y-a.ypos)<e+5?
d.set_highlight(!0):d.set_highlight(!1)))}};this.plot.addListener("mmove",this.onmousemove);this.onmousedown=function(a){if(void 0!==d.location&&!(d.options.prevent_drag||a.xpos<c.l||a.xpos>c.r||a.ypos>c.b||a.ypos<c.t||a.slider_drag)){var b=d.options.style.lineWidth;"vertical"===d.options.direction?Math.abs(d.location-a.xpos)<b+5&&(d.dragging=!0,a.slider_drag=!0,a.preventDefault()):"horizontal"===d.options.direction?Math.abs(d.location-a.ypos)<b+5&&(d.dragging=!0,a.slider_drag=!0,a.preventDefault()):
"both"===d.options.direction&&Math.abs(d.location.x-a.xpos)<b+5&&Math.abs(d.location.y-a.ypos)<b+5&&(d.dragging=!0,a.slider_drag=!0,a.preventDefault())}};this.plot.addListener("mdown",this.onmousedown);this.onmouseup=function(a){d.dragging&&(a.preventDefault(),d.dragging=!1,a=document.createEvent("Event"),a.source=d,a.initEvent("slidertag",!0,!0),"both"===d.options.direction?(a.location=d.location?JSON.parse(JSON.stringify(d.location)):void 0,a.position=d.position?JSON.parse(JSON.stringify(d.position)):
void 0):(a.location=d.location,a.position=d.position),b.dispatchEvent(c,a),a=document.createEvent("Event"),a.initEvent("sliderdrag",!0,!0),"both"===d.options.direction?(a.location=d.location?JSON.parse(JSON.stringify(d.location)):void 0,a.position=d.position?JSON.parse(JSON.stringify(d.position)):void 0):(a.location=d.location,a.position=d.position),b.dispatchEvent(c,a))};this.plot.addListener("mup",this.onmouseup)},menu:function(){var a=function(a){return function(){a.options.display=!a.options.display;
a.plot.redraw()}}(this),b=function(a){return function(){var b=a.plot._Mx,c=b.stk[b.level],b=(c.xmax-c.xmin)/2+c.xmin,c=(c.ymax-c.ymin)/2+c.ymin;"vertical"===a.options.direction?a.set_position(b):"horizontal"===a.options.direction?a.set_position(c):"both"===a.options.direction&&a.set_position({x:b,y:c})}}(this);return{text:this.name+"...",menu:{title:"SLIDER",items:[{text:"Display",checked:this.options.display,style:"checkbox",handler:a},{text:"Center",handler:b}]}}},addListener:function(a,c){var d=
this;b.addEventListener(this.plot._Mx,a,function(a){if(a.source===d)return c(a)},!1)},removeListener:function(a,c){b.removeEventListener(this.plot._Mx,a,c,!1)},pair:function(a){if(a){if(a.direction!==this.direction)throw"paired sliders must use the same direction setting";this.paired_slider=a}else this.paired_slider=null},set_highlight:function(a){a!==this.highlight&&(this.highlight=a,this.plot.redraw())},set_position:function(a){if(!this.dragging){if("both"===this.options.direction){if(void 0!==
this.position&&this.position.x===a.x&&this.position.y===a.y)return}else if(this.position===a)return;this.set_highlight(!1);var c=this.plot._Mx;this.position="both"===this.options.direction?a?JSON.parse(JSON.stringify(a)):void 0:a;a="both"===this.options.direction?b.real_to_pixel(c,this.position.x,this.position.y):b.real_to_pixel(c,this.position,this.position);"vertical"===this.options.direction?this.location=a.x:"horizontal"===this.options.direction?this.location=a.y:"both"===this.options.direction&&
(this.location={x:a.x,y:a.y});a=document.createEvent("Event");a.initEvent("slidertag",!0,!0);"both"===this.options.direction?(a.location=this.location?JSON.parse(JSON.stringify(this.location)):void 0,a.position=this.position?JSON.parse(JSON.stringify(this.position)):void 0):(a.location=this.location,a.position=this.position);b.dispatchEvent(c,a);this.plot.redraw()}},set_location:function(a){if(!this.dragging){if("both"===this.options.direction){if(void 0!==this.location&&this.location.x===a.x&&this.location.y===
a.y)return}else if(this.location===a)return;this.set_highlight(!1);var c=this.plot._Mx;this.location="both"===this.options.direction?a?JSON.parse(JSON.stringify(a)):void 0:a;a="both"===this.options.direction?b.pixel_to_real(c,a.x,a.y):b.pixel_to_real(c,a,a);"vertical"===this.options.direction?this.position=a.x:"horizontal"===this.options.direction?this.position=a.y:"both"===this.options.direction&&(this.position={x:a.x,y:a.y});a=document.createEvent("Event");a.initEvent("slidertag",!0,!0);"both"===
this.options.direction?(a.location=this.location?JSON.parse(JSON.stringify(this.location)):void 0,a.position=this.position?JSON.parse(JSON.stringify(this.position)):void 0):(a.location=this.location,a.position=this.position);b.dispatchEvent(c,a);this.plot.redraw()}},get_position:function(){return this.position},get_location:function(){return this.location},refresh:function(a){if(this.options.display&&void 0!==this.position){var c=this.plot._Mx;a=a.getContext("2d");a.lineWidth=this.options.style.lineWidth;
a.lineCap=this.options.style.lineCap;a.strokeStyle=void 0!==this.options.style.strokeStyle?this.options.style.strokeStyle:c.fg;if(this.dragging||this.highlight)a.lineWidth=Math.ceil(1.2*a.lineWidth);var d;d="both"===this.options.direction?b.real_to_pixel(c,this.position.x,this.position.y):b.real_to_pixel(c,this.position,this.position);if("vertical"===this.options.direction){if(d.x<c.l||d.x>c.r)return;this.location=d.x}else if("horizontal"===this.options.direction){if(d.y<c.t||d.y>c.b)return;this.location=
d.y}else if("both"===this.options.direction){if(d.x<c.l||d.x>c.r||d.y<c.t||d.y>c.b)return;this.location.x=d.x;this.location.y=d.y}"vertical"===this.options.direction?(a.beginPath(),a.moveTo(this.location+0.5,c.t),a.lineTo(this.location+0.5,c.b),a.stroke()):"horizontal"===this.options.direction?(a.beginPath(),a.moveTo(c.l,this.location+0.5),a.lineTo(c.r,this.location+0.5),a.stroke()):"both"===this.options.direction&&(a.beginPath(),a.moveTo(c.l,this.location.y+0.5),a.lineTo(c.r,this.location.y+0.5),
a.closePath(),a.moveTo(this.location.x+0.5,c.t),a.lineTo(this.location.x+0.5,c.b),a.stroke());if(this.dragging||this.highlight||this.options.persistent_style){var e=2*c.text_h*this.options.slider_ID;if("vertical"===this.options.direction){a.textBaseline="alphabetic";a.textAlign="left";a.fillStyle=void 0!==this.options.style.textStyle?this.options.style.textStyle:c.fg;a.font=c.font.font;d=b.format_g(this.position,6,3,!0).trim();var f=a.measureText(d).width;this.location+2*f>c.r?(a.textAlign="right",
a.fillText(d,this.location-15,c.t+40+e)):a.fillText(d,this.location+15,c.t+40+e);this.options.add_box&&(this.location+2*f>c.r?a.rect(this.location-2*f,c.t+20+e,2*f,2*c.text_h):a.rect(this.location+0.5,c.t+20+e,2*f,2*c.text_h),a.strokeStyle=this.options.style.strokeStyle,a.stroke())}else"horizontal"===this.options.direction&&(a.textBaseline="alphabetic",a.textAlign="left",a.fillStyle=void 0!==this.options.style.textStyle?this.options.style.textStyle:c.fg,a.font=c.font.font,d=b.format_g(this.position,
6,3,!0).trim(),f=a.measureText(d).width,e=2*f*this.options.slider_ID,this.location-2*c.text_h>c.t?a.fillText(d,c.l+20+e,this.location-5):a.fillText(d,c.l+20+e,this.location+5+c.text_h),this.options.add_box&&(this.location-2*c.text_h>c.t?a.rect(c.l+15+e,this.location-2*c.text_h,2*f,2*c.text_h):a.rect(c.l+15+e,this.location,2*f,2*c.text_h),a.strokeStyle=this.options.style.strokeStyle,a.stroke()));this.paired_slider&&("vertical"===this.options.direction?(d=this.position-this.paired_slider.position,e=
this.location-this.paired_slider.location,f=c.t+Math.round((c.b-c.t)/2),b.textline(c,this.location,f,this.paired_slider.location,f,{mode:"dashed",on:3,off:3}),a.textBaseline="alphabetic",a.textAlign="center",a.fillStyle=void 0!==this.options.style.textStyle?this.options.style.textStyle:c.fg,a.font=c.font.font,d=b.format_g(d,6,3,!0),a.fillText(d,this.location-Math.round(e/2),f-5)):"horizontal"===this.options.direction&&(d=this.position-this.paired_slider.position,e=this.location-this.paired_slider.location,
f=c.l+Math.round((c.r-c.l)/2),b.textline(c,f,this.location,f,this.paired_slider.location,{mode:"dashed",on:3,off:3}),a.textBaseline="alphabetic",a.textAlign="left",a.fillStyle=void 0!==this.options.style.textStyle?this.options.style.textStyle:c.fg,a.font=c.font.font,d=b.format_g(d,6,3,!0),a.fillText(d,f+5,this.location-Math.round(e/2))))}}},dispose:function(){this.plot.removeListener("mmove",this.onmousemove);document.removeEventListener("mouseup",this.onmouseup,!1);this.position=this.plot=void 0}};
B.exports=e})()},{"./common":3,"./m":4,"./mx":5}],12:[function(C,B,O){(function(b,f){"object"===typeof B&&B.exports?B.exports=f():b.log=f()})(this,function(){function b(a,b){var c=a[b];if("function"===typeof c.bind)return c.bind(a);try{return Function.prototype.bind.call(c,a)}catch(d){return function(){return Function.prototype.apply.apply(c,[a,arguments])}}}function f(a,b,c){return function(){typeof console!==g&&(e.call(this,b,c),this[a].apply(this,arguments))}}function e(a,b){for(var c=0;c<n.length;c++){var e=
n[c];this[e]=c<a?d:this.methodFactory(e,a,b)}}function a(a,c,e){return(typeof console===g?!1:void 0!==console[a]?b(console,a):void 0!==console.log?b(console,"log"):d)||f.apply(this,arguments)}function c(b,c,d){function f(){var a;try{a=window.localStorage[w]}catch(b){}if(typeof a===g)try{var c=window.document.cookie,d=c.indexOf(encodeURIComponent(w)+"=");d&&(a=/^([^;]+)/.exec(c.slice(d))[1])}catch(e){}void 0===k.levels[a]&&(a=void 0);return a}var k=this,r,w="loglevel";b&&(w+=":"+b);k.levels={TRACE:0,
DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5};k.methodFactory=d||a;k.getLevel=function(){return r};k.setLevel=function(a,c){"string"===typeof a&&void 0!==k.levels[a.toUpperCase()]&&(a=k.levels[a.toUpperCase()]);if("number"===typeof a&&0<=a&&a<=k.levels.SILENT){r=a;if(!1!==c)a:{var d=(n[a]||"silent").toUpperCase();try{window.localStorage[w]=d;break a}catch(f){}try{window.document.cookie=encodeURIComponent(w)+"="+d+";"}catch(x){}}e.call(k,a,b);if(typeof console===g&&a<k.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+
a;};k.setDefaultLevel=function(a){f()||k.setLevel(a,!1)};k.enableAll=function(a){k.setLevel(k.levels.TRACE,a)};k.disableAll=function(a){k.setLevel(k.levels.SILENT,a)};d=f();null==d&&(d=null==c?"WARN":c);k.setLevel(d,!1)}var d=function(){},g="undefined",n=["trace","debug","info","warn","error"],k=new c,r={};k.getLogger=function(a){if("string"!==typeof a||""===a)throw new TypeError("You must supply a name when creating a logger.");var b=r[a];b||(b=r[a]=new c(a,k.getLevel(),k.methodFactory));return b};
var w=typeof window!==g?window.log:void 0;k.noConflict=function(){typeof window!==g&&window.log===k&&(window.log=w);return k};return k})},{}],13:[function(C,B,O){(function(b){function f(c,d){var e,g,k,n,p;c=c?c:"";d=d||{};if(c instanceof f)return c;if(!(this instanceof f))return new f(c,d);g=c;p={r:0,g:0,b:0};var r=1;n=n=k=null;k=n=!1;if("string"==typeof g)a:{g=g.replace(u,"").replace(Y,"").toLowerCase();var w=!1;if(l[g])g=l[g],w=!0;else if("transparent"==g){g={r:0,g:0,b:0,a:0,format:"name"};break a}g=
(e=U.rgb.exec(g))?{r:e[1],g:e[2],b:e[3]}:(e=U.rgba.exec(g))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=U.hsl.exec(g))?{h:e[1],s:e[2],l:e[3]}:(e=U.hsla.exec(g))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=U.hsv.exec(g))?{h:e[1],s:e[2],v:e[3]}:(e=U.hsva.exec(g))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=U.hex8.exec(g))?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:parseInt(e[4],16)/255,format:w?"name":"hex8"}:(e=U.hex6.exec(g))?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),format:w?"name":"hex"}:
(e=U.hex4.exec(g))?{r:parseInt(e[1]+""+e[1],16),g:parseInt(e[2]+""+e[2],16),b:parseInt(e[3]+""+e[3],16),a:parseInt(e[4]+""+e[4],16)/255,format:w?"name":"hex8"}:(e=U.hex3.exec(g))?{r:parseInt(e[1]+""+e[1],16),g:parseInt(e[2]+""+e[2],16),b:parseInt(e[3]+""+e[3],16),format:w?"name":"hex"}:!1}if("object"==typeof g){if(T(g.r)&&T(g.g)&&T(g.b))p=g.g,e=g.b,p={r:255*A(g.r,255),g:255*A(p,255),b:255*A(e,255)},n=!0,k="%"===String(g.r).substr(-1)?"prgb":"rgb";else if(T(g.h)&&T(g.s)&&T(g.v)){k=E(g.s);n=E(g.v);
w=g.h;e=k;p=n;w=6*A(w,360);e=A(e,100);p=A(p,100);k=b.floor(w);var x=w-k;n=p*(1-e);w=p*(1-x*e);e=p*(1-(1-x)*e);k%=6;p={r:255*[p,w,n,n,e,p][k],g:255*[e,p,p,w,n,n][k],b:255*[n,n,e,p,p,w][k]};n=!0;k="hsv"}else T(g.h)&&T(g.s)&&T(g.l)&&(k=E(g.s),n=E(g.l),p=a(g.h,k,n),n=!0,k="hsl");g.hasOwnProperty("a")&&(r=g.a)}r=Q(r);e=n;g=g.format||k;k=v(255,h(p.r,0));n=v(255,h(p.g,0));p=v(255,h(p.b,0));this._originalInput=c;this._r=k;this._g=n;this._b=p;this._a=r;this._roundA=s(100*this._a)/100;this._format=d.format||
g;this._gradientType=d.gradientType;1>this._r&&(this._r=s(this._r));1>this._g&&(this._g=s(this._g));1>this._b&&(this._b=s(this._b));this._ok=e;this._tc_id=D++}function e(a,b,c){a=A(a,255);b=A(b,255);c=A(c,255);var d=h(a,b,c),e=v(a,b,c),f,g=(d+e)/2;if(d==e)f=e=0;else{var k=d-e,e=0.5<g?k/(2-d-e):k/(d+e);switch(d){case a:f=(b-c)/k+(b<c?6:0);break;case b:f=(c-a)/k+2;break;case c:f=(a-b)/k+4}f/=6}return{h:f,s:e,l:g}}function a(a,b,c){function d(a,b,c){0>c&&(c+=1);1<c&&(c-=1);return c<1/6?a+6*(b-a)*c:0.5>
c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}a=A(a,360);b=A(b,100);c=A(c,100);if(0===b)c=b=a=c;else{var e=0.5>c?c*(1+b):c+b-c*b,f=2*c-e;c=d(f,e,a+1/3);b=d(f,e,a);a=d(f,e,a-1/3)}return{r:255*c,g:255*b,b:255*a}}function c(a,b,c){a=A(a,255);b=A(b,255);c=A(c,255);var d=h(a,b,c),e=v(a,b,c),f,g=d-e;if(d==e)f=0;else{switch(d){case a:f=(b-c)/g+(b<c?6:0);break;case b:f=(c-a)/g+2;break;case c:f=(a-b)/g+4}f/=6}return{h:f,s:0===d?0:g/d,v:d}}function d(a,b,c,d){a=[x(s(a).toString(16)),x(s(b).toString(16)),x(s(c).toString(16))];
return d&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function g(a,c,d,e){return[x(b.round(255*parseFloat(e)).toString(16)),x(s(a).toString(16)),x(s(c).toString(16)),x(s(d).toString(16))].join("")}function n(a,b){b=0===b?0:b||10;var c=f(a).toHsl();c.s-=b/100;c.s=v(1,h(0,c.s));return f(c)}function k(a,b){b=0===b?0:b||10;var c=f(a).toHsl();c.s+=b/100;c.s=v(1,h(0,c.s));return f(c)}function r(a){return f(a).desaturate(100)}
function w(a,b){b=0===b?0:b||10;var c=f(a).toHsl();c.l+=b/100;c.l=v(1,h(0,c.l));return f(c)}function y(a,b){b=0===b?0:b||10;var c=f(a).toRgb();c.r=h(0,v(255,c.r-s(255*-(b/100))));c.g=h(0,v(255,c.g-s(255*-(b/100))));c.b=h(0,v(255,c.b-s(255*-(b/100))));return f(c)}function z(a,b){b=0===b?0:b||10;var c=f(a).toHsl();c.l-=b/100;c.l=v(1,h(0,c.l));return f(c)}function C(a,b){var c=f(a).toHsl(),d=(c.h+b)%360;c.h=0>d?360+d:d;return f(c)}function L(a){a=f(a).toHsl();a.h=(a.h+180)%360;return f(a)}function K(a){var b=
f(a).toHsl(),c=b.h;return[f(a),f({h:(c+120)%360,s:b.s,l:b.l}),f({h:(c+240)%360,s:b.s,l:b.l})]}function O(a){var b=f(a).toHsl(),c=b.h;return[f(a),f({h:(c+90)%360,s:b.s,l:b.l}),f({h:(c+180)%360,s:b.s,l:b.l}),f({h:(c+270)%360,s:b.s,l:b.l})]}function aa(a){var b=f(a).toHsl(),c=b.h;return[f(a),f({h:(c+72)%360,s:b.s,l:b.l}),f({h:(c+216)%360,s:b.s,l:b.l})]}function V(a,b,c){b=b||6;c=c||30;var d=f(a).toHsl();c=360/c;a=[f(a)];for(d.h=(d.h-(c*b>>1)+720)%360;--b;)d.h=(d.h+c)%360,a.push(f(d));return a}function S(a,
b){b=b||6;for(var c=f(a).toHsv(),d=c.h,e=c.s,c=c.v,g=[],h=1/b;b--;)g.push(f({h:d,s:e,v:c})),c=(c+h)%1;return g}function Q(a){a=parseFloat(a);if(isNaN(a)||0>a||1<a)a=1;return a}function A(a,c){var d=a;"string"==typeof d&&-1!=d.indexOf(".")&&1===parseFloat(d)&&(a="100%");d="string"===typeof a&&-1!=a.indexOf("%");a=v(c,h(0,parseFloat(a)));d&&(a=parseInt(a*c,10)/100);return 1E-6>b.abs(a-c)?1:a%c/parseFloat(c)}function x(a){return 1==a.length?"0"+a:""+a}function E(a){1>=a&&(a=100*a+"%");return a}function T(a){return!!U.CSS_UNIT.exec(a)}
var u=/^\s+/,Y=/\s+$/,D=0,s=b.round,v=b.min,h=b.max,M=b.random;f.prototype={isDark:function(){return 128>this.getBrightness()},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/1E3},getLuminance:function(){var a=this.toRgb(),c,d;c=a.r/255;d=a.g/255;a=a.b/255;c=0.03928>=
c?c/12.92:b.pow((c+0.055)/1.055,2.4);d=0.03928>=d?d/12.92:b.pow((d+0.055)/1.055,2.4);a=0.03928>=a?a/12.92:b.pow((a+0.055)/1.055,2.4);return 0.2126*c+0.7152*d+0.0722*a},setAlpha:function(a){this._a=Q(a);this._roundA=s(100*this._a)/100;return this},toHsv:function(){var a=c(this._r,this._g,this._b);return{h:360*a.h,s:a.s,v:a.v,a:this._a}},toHsvString:function(){var a=c(this._r,this._g,this._b),b=s(360*a.h),d=s(100*a.s),a=s(100*a.v);return 1==this._a?"hsv("+b+", "+d+"%, "+a+"%)":"hsva("+b+", "+d+"%, "+
a+"%, "+this._roundA+")"},toHsl:function(){var a=e(this._r,this._g,this._b);return{h:360*a.h,s:a.s,l:a.l,a:this._a}},toHslString:function(){var a=e(this._r,this._g,this._b),b=s(360*a.h),c=s(100*a.s),a=s(100*a.l);return 1==this._a?"hsl("+b+", "+c+"%, "+a+"%)":"hsla("+b+", "+c+"%, "+a+"%, "+this._roundA+")"},toHex:function(a){return d(this._r,this._g,this._b,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(a){var c=this._g,d=this._b,e=this._a,c=[x(s(this._r).toString(16)),x(s(c).toString(16)),
x(s(d).toString(16)),x(b.round(255*parseFloat(e)).toString(16))];a=a&&c[0].charAt(0)==c[0].charAt(1)&&c[1].charAt(0)==c[1].charAt(1)&&c[2].charAt(0)==c[2].charAt(1)&&c[3].charAt(0)==c[3].charAt(1)?c[0].charAt(0)+c[1].charAt(0)+c[2].charAt(0)+c[3].charAt(0):c.join("");return a},toHex8String:function(a){return"#"+this.toHex8(a)},toRgb:function(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+
s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:s(100*A(this._r,255))+"%",g:s(100*A(this._g,255))+"%",b:s(100*A(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+s(100*A(this._r,255))+"%, "+s(100*A(this._g,255))+"%, "+s(100*A(this._b,255))+"%)":"rgba("+s(100*A(this._r,255))+"%, "+s(100*A(this._g,255))+"%, "+s(100*A(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":1>this._a?
!1:p[d(this._r,this._g,this._b,!0)]||!1},toFilter:function(a){var b="#"+g(this._r,this._g,this._b,this._a),c=b,d=this._gradientType?"GradientType = 1, ":"";a&&(a=f(a),c="#"+g(a._r,a._g,a._b,a._a));return"progid:DXImageTransform.Microsoft.gradient("+d+"startColorstr="+b+",endColorstr="+c+")"},toString:function(a){var b=!!a;a=a||this._format;var c=!1,d=1>this._a&&0<=this._a;if(!b&&d&&("hex"===a||"hex6"===a||"hex3"===a||"hex4"===a||"hex8"===a||"name"===a))return"name"===a&&0===this._a?this.toName():
this.toRgbString();"rgb"===a&&(c=this.toRgbString());"prgb"===a&&(c=this.toPercentageRgbString());if("hex"===a||"hex6"===a)c=this.toHexString();"hex3"===a&&(c=this.toHexString(!0));"hex4"===a&&(c=this.toHex8String(!0));"hex8"===a&&(c=this.toHex8String());"name"===a&&(c=this.toName());"hsl"===a&&(c=this.toHslString());"hsv"===a&&(c=this.toHsvString());return c||this.toHexString()},clone:function(){return f(this.toString())},_applyModification:function(a,c){var b=a.apply(null,[this].concat([].slice.call(c)));
this._r=b._r;this._g=b._g;this._b=b._b;this.setAlpha(b._a);return this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(z,arguments)},desaturate:function(){return this._applyModification(n,arguments)},saturate:function(){return this._applyModification(k,arguments)},greyscale:function(){return this._applyModification(r,arguments)},spin:function(){return this._applyModification(C,
arguments)},_applyCombination:function(a,c){return a.apply(null,[this].concat([].slice.call(c)))},analogous:function(){return this._applyCombination(V,arguments)},complement:function(){return this._applyCombination(L,arguments)},monochromatic:function(){return this._applyCombination(S,arguments)},splitcomplement:function(){return this._applyCombination(aa,arguments)},triad:function(){return this._applyCombination(K,arguments)},tetrad:function(){return this._applyCombination(O,arguments)}};f.fromRatio=
function(a,c){if("object"==typeof a){var b={},d;for(d in a)a.hasOwnProperty(d)&&(b[d]="a"===d?a[d]:E(a[d]));a=b}return f(a,c)};f.equals=function(a,c){return a&&c?f(a).toRgbString()==f(c).toRgbString():!1};f.random=function(){return f.fromRatio({r:M(),g:M(),b:M()})};f.mix=function(a,c,b){b=0===b?0:b||50;a=f(a).toRgb();c=f(c).toRgb();b/=100;return f({r:(c.r-a.r)*b+a.r,g:(c.g-a.g)*b+a.g,b:(c.b-a.b)*b+a.b,a:(c.a-a.a)*b+a.a})};f.readability=function(a,c){var d=f(a),e=f(c);return(b.max(d.getLuminance(),
e.getLuminance())+0.05)/(b.min(d.getLuminance(),e.getLuminance())+0.05)};f.isReadable=function(a,c,b){a=f.readability(a,c);c=!1;var d;d=b||{level:"AA",size:"small"};b=(d.level||"AA").toUpperCase();d=(d.size||"small").toLowerCase();"AA"!==b&&"AAA"!==b&&(b="AA");"small"!==d&&"large"!==d&&(d="small");switch(b+d){case "AAsmall":case "AAAlarge":c=4.5<=a;break;case "AAlarge":c=3<=a;break;case "AAAsmall":c=7<=a}return c};f.mostReadable=function(a,c,b){var d=null,e=0,g,h,k,l;b=b||{};h=b.includeFallbackColors;
k=b.level;l=b.size;for(var n=0;n<c.length;n++)g=f.readability(a,c[n]),g>e&&(e=g,d=f(c[n]));if(f.isReadable(a,d,{level:k,size:l})||!h)return d;b.includeFallbackColors=!1;return f.mostReadable(a,["#fff","#000"],b)};var l=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",
chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",
deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",
lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",
mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",
rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},p=f.hexNames=function(a){var c={},
b;for(b in a)a.hasOwnProperty(b)&&(c[a[b]]=b);return c}(l),U={CSS_UNIT:/(?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?)/,rgb:RegExp("rgb[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),rgba:RegExp("rgba[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),
hsl:RegExp("hsl[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hsla:RegExp("hsla[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hsv:RegExp("hsv[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),
hsva:RegExp("hsva[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};
"undefined"!==typeof B&&B.exports?B.exports=f:window.tinycolor=f})(Math)},{}]},{},[6])(6)});
